{"version":3,"file":"index-nE_aRGHP.js","sources":["../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/utils/atomicEngine.ts","../../src/stores/presentation.ts","../../src/stores/ai.ts","../../src/stores/index.ts","../../src/App.vue","../../src/components/Toolbar/ToolbarMain.vue","../../src/components/AI/AIPanel.vue","../../src/components/Sidebar/SlideThumbnails.vue","../../src/components/Canvas/ElementRenderer.vue","../../src/components/Canvas/SelectionBox.vue","../../src/components/Canvas/ContextMenu.vue","../../src/components/Canvas/ElementToolbar.vue","../../src/components/Canvas/CanvasEditor.vue","../../src/components/Sidebar/ElementProperties.vue","../../src/components/Sidebar/MultiElementProperties.vue","../../src/components/Sidebar/PropertyPanel.vue","../../src/components/AI/AISuggestions.vue","../../src/views/Editor.vue","../../src/main.ts"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","/**\n * Atomic Operations Engine\n * \n * The minimal kernel that processes all 7 atomic operations\n * and updates the PPT data structure accordingly.\n */\n\nimport { v4 as uuidv4 } from 'uuid'\nimport type { \n  AtomicOperationData, \n  AtomicOperation, \n  ElementType,\n  AddTextData,\n  AddImageData,\n  AddShapeData,\n  AddChartData,\n  AddTableData,\n  ModifyElementData,\n  CreateSlideData,\n  ReorderSlidesData,\n  ApplyThemeData\n} from '@/types/atoms'\nimport type { \n  Presentation, \n  Slide, \n  PPTElement, \n  PPTTextElement,\n  PPTImageElement,\n  PPTShapeElement,\n  PPTChartElement,\n  PPTTableElement\n} from '@/types/slides'\n\nexport class AtomicEngine {\n  private presentation: Presentation\n  private operationHistory: AtomicOperationData[] = []\n  private listeners: Array<(operation: AtomicOperationData, result: any) => void> = []\n\n  constructor(presentation: Presentation) {\n    this.presentation = presentation\n  }\n\n  /**\n   * Execute an atomic operation\n   */\n  async execute(operation: AtomicOperationData): Promise<any> {\n    const startTime = performance.now()\n    \n    try {\n      let result: any\n\n      switch (operation.op) {\n        case AtomicOperation.ADD:\n          result = await this.executeAdd(operation)\n          break\n        case AtomicOperation.REMOVE:\n          result = await this.executeRemove(operation)\n          break\n        case AtomicOperation.MODIFY:\n          result = await this.executeModify(operation)\n          break\n        case AtomicOperation.CREATE:\n          result = await this.executeCreate(operation)\n          break\n        case AtomicOperation.DELETE:\n          result = await this.executeDelete(operation)\n          break\n        case AtomicOperation.REORDER:\n          result = await this.executeReorder(operation)\n          break\n        case AtomicOperation.APPLY:\n          result = await this.executeApply(operation)\n          break\n        default:\n          throw new Error(`Unknown operation: ${operation.op}`)\n      }\n\n      // Record operation\n      this.operationHistory.push(operation)\n      \n      // Update timestamps\n      this.presentation.metadata.updatedAt = Date.now()\n      \n      // Notify listeners\n      this.notifyListeners(operation, result)\n      \n      const executionTime = performance.now() - startTime\n      console.log(`✅ Executed ${operation.op} in ${executionTime.toFixed(2)}ms`)\n      \n      return result\n\n    } catch (error) {\n      console.error(`❌ Failed to execute ${operation.op}:`, error)\n      throw error\n    }\n  }\n\n  /**\n   * ADD Operation - Creating Elements\n   */\n  private async executeAdd(operation: AtomicOperationData): Promise<PPTElement> {\n    const slideIndex = operation.target as number\n    const slide = this.presentation.slides[slideIndex]\n    \n    if (!slide) {\n      throw new Error(`Slide ${slideIndex} not found`)\n    }\n\n    let element: PPTElement\n\n    switch (operation.type) {\n      case ElementType.TEXT:\n        element = this.createTextElement(operation.data as AddTextData)\n        break\n      case ElementType.IMAGE:\n        element = this.createImageElement(operation.data as AddImageData)\n        break\n      case ElementType.SHAPE:\n        element = this.createShapeElement(operation.data as AddShapeData)\n        break\n      case ElementType.CHART:\n        element = this.createChartElement(operation.data as AddChartData)\n        break\n      case ElementType.TABLE:\n        element = this.createTableElement(operation.data as AddTableData)\n        break\n      default:\n        throw new Error(`Unsupported element type: ${operation.type}`)\n    }\n\n    slide.elements.push(element)\n    slide.updatedAt = Date.now()\n    \n    return element\n  }\n\n  /**\n   * REMOVE Operation - Deleting Elements\n   */\n  private async executeRemove(operation: AtomicOperationData): Promise<boolean> {\n    if (operation.type === 'element') {\n      const elementId = operation.target as string\n      return this.removeElementById(elementId)\n    }\n    \n    if (operation.type === 'elements') {\n      const elementIds = operation.target as string[]\n      return elementIds.every(id => this.removeElementById(id))\n    }\n    \n    if (operation.type === 'all') {\n      const slideIndex = operation.target as number\n      const elementType = operation.data?.elementType\n      return this.removeAllElementsOfType(slideIndex, elementType)\n    }\n    \n    return false\n  }\n\n  /**\n   * MODIFY Operation - Updating Properties\n   */\n  private async executeModify(operation: AtomicOperationData): Promise<boolean> {\n    if (operation.type === 'element') {\n      const elementId = operation.target as string\n      return this.modifyElement(elementId, operation.data as ModifyElementData)\n    }\n    \n    if (operation.type === 'batch') {\n      const elementIds = operation.target as string[]\n      return elementIds.every(id => this.modifyElement(id, operation.data as ModifyElementData))\n    }\n    \n    return false\n  }\n\n  /**\n   * CREATE Operation - Building Slides\n   */\n  private async executeCreate(operation: AtomicOperationData): Promise<Slide | Slide[]> {\n    if (operation.type === ElementType.SLIDE) {\n      return this.createSlide(operation.data as CreateSlideData)\n    }\n    \n    if (operation.type === 'slides') {\n      return this.createMultipleSlides(operation.data)\n    }\n    \n    throw new Error(`Unsupported create type: ${operation.type}`)\n  }\n\n  /**\n   * DELETE Operation - Removing Slides\n   */\n  private async executeDelete(operation: AtomicOperationData): Promise<boolean> {\n    if (operation.type === ElementType.SLIDE) {\n      const slideIndex = operation.target as number\n      return this.deleteSlide(slideIndex)\n    }\n    \n    if (operation.type === 'slides') {\n      const slideIndices = operation.target as number[]\n      return this.deleteMultipleSlides(slideIndices)\n    }\n    \n    if (operation.type === 'slide-range') {\n      const { from, to } = operation.data\n      return this.deleteSlideRange(from, to)\n    }\n    \n    return false\n  }\n\n  /**\n   * REORDER Operation - Rearranging Structure\n   */\n  private async executeReorder(operation: AtomicOperationData): Promise<boolean> {\n    if (operation.type === 'slides') {\n      return this.reorderSlides(operation.data as ReorderSlidesData)\n    }\n    \n    if (operation.type === 'elements') {\n      const slideIndex = operation.target as number\n      return this.reorderElements(slideIndex, operation.data)\n    }\n    \n    return false\n  }\n\n  /**\n   * APPLY Operation - Global Transformations\n   */\n  private async executeApply(operation: AtomicOperationData): Promise<boolean> {\n    switch (operation.type) {\n      case ElementType.THEME:\n        return this.applyTheme(operation.data as ApplyThemeData)\n      case 'transitions':\n        return this.applyTransitions(operation.data)\n      case 'layout':\n        return this.applyLayout(operation.data)\n      case 'animations':\n        return this.applyAnimations(operation.data)\n      case 'brand':\n        return this.applyBrand(operation.data)\n      default:\n        return false\n    }\n  }\n\n  // Helper methods for creating elements\n  private createTextElement(data: AddTextData): PPTTextElement {\n    return {\n      id: uuidv4(),\n      type: 'text',\n      left: data.x,\n      top: data.y,\n      width: data.width || 400,\n      height: data.height || 100,\n      rotate: 0,\n      content: data.content,\n      defaultFontName: data.fontFamily || 'Arial',\n      defaultColor: data.color || '#333333',\n      fontSize: data.fontSize || 16,\n      fontFamily: data.fontFamily || 'Arial',\n      bold: data.bold || false,\n      italic: data.italic || false,\n      underline: data.underline || false,\n      align: data.align || 'left',\n      lineHeight: data.lineHeight || 1.5,\n      opacity: 1\n    }\n  }\n\n  private createImageElement(data: AddImageData): PPTImageElement {\n    return {\n      id: uuidv4(),\n      type: 'image',\n      left: data.x,\n      top: data.y,\n      width: data.width,\n      height: data.height,\n      rotate: 0,\n      src: data.src,\n      fit: data.fit || 'contain',\n      shadow: data.shadow || false,\n      borderRadius: data.borderRadius || 0,\n      filter: data.filter,\n      brightness: data.brightness || 1,\n      contrast: data.contrast || 1,\n      opacity: 1\n    }\n  }\n\n  private createShapeElement(data: AddShapeData): PPTShapeElement {\n    return {\n      id: uuidv4(),\n      type: 'shape',\n      left: data.x,\n      top: data.y,\n      width: data.width,\n      height: data.height,\n      rotate: 0,\n      shape: data.shape,\n      fill: data.fill || '#4CAF50',\n      stroke: data.stroke || '#2E7D32',\n      strokeWidth: data.strokeWidth || 2,\n      opacity: data.opacity || 1\n    }\n  }\n\n  private createChartElement(data: AddChartData): PPTChartElement {\n    return {\n      id: uuidv4(),\n      type: 'chart',\n      left: data.x,\n      top: data.y,\n      width: data.width,\n      height: data.height,\n      rotate: 0,\n      chartType: data.chartType,\n      data: data.data,\n      options: data.options || {}\n    }\n  }\n\n  private createTableElement(data: AddTableData): PPTTableElement {\n    return {\n      id: uuidv4(),\n      type: 'table',\n      left: data.x,\n      top: data.y,\n      width: data.width || 600,\n      height: data.height || 400,\n      rotate: 0,\n      data: data.data,\n      colWidths: new Array(data.columns).fill(100),\n      rowHeights: new Array(data.rows).fill(40),\n      style: {\n        borderColor: '#ddd',\n        borderWidth: 1,\n        headerBg: data.headerStyle?.backgroundColor || '#1976D2',\n        headerColor: data.headerStyle?.color || '#FFFFFF',\n        cellPadding: 8\n      }\n    }\n  }\n\n  // Helper methods for operations\n  private removeElementById(elementId: string): boolean {\n    for (const slide of this.presentation.slides) {\n      const index = slide.elements.findIndex(el => el.id === elementId)\n      if (index !== -1) {\n        slide.elements.splice(index, 1)\n        slide.updatedAt = Date.now()\n        return true\n      }\n    }\n    return false\n  }\n\n  private removeAllElementsOfType(slideIndex: number, elementType: string): boolean {\n    const slide = this.presentation.slides[slideIndex]\n    if (!slide) return false\n    \n    const initialLength = slide.elements.length\n    slide.elements = slide.elements.filter(el => el.type !== elementType)\n    slide.updatedAt = Date.now()\n    \n    return slide.elements.length < initialLength\n  }\n\n  private modifyElement(elementId: string, changes: ModifyElementData): boolean {\n    for (const slide of this.presentation.slides) {\n      const element = slide.elements.find(el => el.id === elementId)\n      if (element) {\n        Object.assign(element, changes)\n        slide.updatedAt = Date.now()\n        return true\n      }\n    }\n    return false\n  }\n\n  private createSlide(data: CreateSlideData): Slide {\n    const slide: Slide = {\n      id: uuidv4(),\n      elements: [],\n      layout: data.layout || 'blank',\n      template: data.template,\n      createdAt: Date.now(),\n      updatedAt: Date.now()\n    }\n\n    // Add initial elements if specified\n    if (data.elements) {\n      for (const elementData of data.elements) {\n        const element = this.createElementFromData(elementData)\n        if (element) {\n          slide.elements.push(element)\n        }\n      }\n    }\n\n    // Insert slide at specified position\n    const insertIndex = data.after === 'end' \n      ? this.presentation.slides.length \n      : (data.after || 0) + 1\n    \n    this.presentation.slides.splice(insertIndex, 0, slide)\n    \n    return slide\n  }\n\n  private createMultipleSlides(data: any): Slide[] {\n    const slides: Slide[] = []\n    for (let i = 0; i < data.count; i++) {\n      const slide = this.createSlide({\n        layout: data.layout,\n        after: data.after === 'end' ? 'end' : (data.after as number) + i\n      })\n      slides.push(slide)\n    }\n    return slides\n  }\n\n  private deleteSlide(slideIndex: number): boolean {\n    if (slideIndex >= 0 && slideIndex < this.presentation.slides.length) {\n      this.presentation.slides.splice(slideIndex, 1)\n      return true\n    }\n    return false\n  }\n\n  private deleteMultipleSlides(slideIndices: number[]): boolean {\n    // Sort in descending order to avoid index shifting issues\n    const sortedIndices = [...slideIndices].sort((a, b) => b - a)\n    \n    for (const index of sortedIndices) {\n      if (!this.deleteSlide(index)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  private deleteSlideRange(from: number, to: number): boolean {\n    if (from > to || from < 0 || to >= this.presentation.slides.length) {\n      return false\n    }\n    \n    this.presentation.slides.splice(from, to - from + 1)\n    return true\n  }\n\n  private reorderSlides(data: ReorderSlidesData): boolean {\n    if (data.order) {\n      const newSlides = data.order.map(index => this.presentation.slides[index])\n      this.presentation.slides = newSlides\n      return true\n    }\n    \n    if (data.sortBy) {\n      // Implement sorting logic based on sortBy criteria\n      // This is a simplified implementation\n      this.presentation.slides.sort((a, b) => {\n        if (data.direction === 'descending') {\n          return b.createdAt - a.createdAt\n        }\n        return a.createdAt - b.createdAt\n      })\n      return true\n    }\n    \n    return false\n  }\n\n  private reorderElements(slideIndex: number, data: any): boolean {\n    const slide = this.presentation.slides[slideIndex]\n    if (!slide) return false\n    \n    const newElements = data.order.map((id: string) => \n      slide.elements.find(el => el.id === id)\n    ).filter(Boolean)\n    \n    slide.elements = newElements\n    slide.updatedAt = Date.now()\n    return true\n  }\n\n  private applyTheme(data: ApplyThemeData): boolean {\n    this.presentation.theme = {\n      ...this.presentation.theme,\n      name: data.name,\n      colors: data.colorScheme,\n      fonts: data.fonts || this.presentation.theme.fonts\n    }\n    return true\n  }\n\n  private applyTransitions(data: any): boolean {\n    // Apply transitions to slides\n    const targetSlides = data.applyTo === 'all' \n      ? this.presentation.slides \n      : data.applyTo.map((i: number) => this.presentation.slides[i])\n    \n    for (const slide of targetSlides) {\n      slide.animation = {\n        type: data.slideTransition,\n        duration: data.duration\n      }\n      slide.updatedAt = Date.now()\n    }\n    return true\n  }\n\n  private applyLayout(data: any): boolean {\n    // Apply layout settings globally\n    // This would typically update canvas settings\n    return true\n  }\n\n  private applyAnimations(data: any): boolean {\n    // Apply animation scheme to all elements\n    for (const slide of this.presentation.slides) {\n      for (const element of slide.elements) {\n        // Apply animations based on element type and scheme\n        slide.updatedAt = Date.now()\n      }\n    }\n    return true\n  }\n\n  private applyBrand(data: any): boolean {\n    // Apply brand guidelines\n    if (data.fonts) {\n      this.presentation.theme.fonts = data.fonts\n    }\n    return true\n  }\n\n  private createElementFromData(data: any): PPTElement | null {\n    switch (data.type) {\n      case ElementType.TEXT:\n        return this.createTextElement(data)\n      case ElementType.IMAGE:\n        return this.createImageElement(data)\n      case ElementType.SHAPE:\n        return this.createShapeElement(data)\n      default:\n        return null\n    }\n  }\n\n  // Event system\n  onOperation(callback: (operation: AtomicOperationData, result: any) => void) {\n    this.listeners.push(callback)\n  }\n\n  private notifyListeners(operation: AtomicOperationData, result: any) {\n    this.listeners.forEach(callback => callback(operation, result))\n  }\n\n  // Getters\n  getPresentation(): Presentation {\n    return this.presentation\n  }\n\n  getOperationHistory(): AtomicOperationData[] {\n    return [...this.operationHistory]\n  }\n\n  // Performance metrics\n  getPerformanceMetrics() {\n    return {\n      totalOperations: this.operationHistory.length,\n      averageExecutionTime: '< 10ms', // This would be calculated from actual measurements\n      memoryUsage: process.memoryUsage?.() || 'N/A'\n    }\n  }\n}","/**\n * Presentation Store\n * \n * Manages the presentation state and atomic operations\n */\n\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport { v4 as uuidv4 } from 'uuid'\nimport { AtomicEngine } from '@/utils/atomicEngine'\nimport type { \n  Presentation, \n  Slide, \n  PPTElement, \n  PresentationTheme,\n  CanvasState,\n  EditorState \n} from '@/types/slides'\nimport type { \n  AtomicOperationData, \n  AtomicOperation,\n  ElementType \n} from '@/types/atoms'\n\nexport const usePresentationStore = defineStore('presentation', () => {\n  // State\n  const presentation = ref<Presentation>(createDefaultPresentation())\n  const canvas = ref<CanvasState>(createDefaultCanvasState())\n  const history = ref<{ past: any[], present: any, future: any[] }>({\n    past: [],\n    present: null,\n    future: []\n  })\n  const clipboard = ref<PPTElement[]>([])\n  const isPlaying = ref(false)\n  const isFullscreen = ref(false)\n  const selectedElements = ref<string[]>([])\n  const atomicEngine = ref<AtomicEngine | null>(null)\n\n  // Computed\n  const currentSlide = computed(() => {\n    return presentation.value.slides[canvas.value.activeSlide] || null\n  })\n\n  const totalSlides = computed(() => {\n    return presentation.value.slides.length\n  })\n\n  const canUndo = computed(() => {\n    return history.value.past.length > 0\n  })\n\n  const canRedo = computed(() => {\n    return history.value.future.length > 0\n  })\n\n  // Actions\n  function initializeEngine() {\n    atomicEngine.value = new AtomicEngine(presentation.value)\n    \n    // Listen to operations for history management\n    atomicEngine.value.onOperation((operation, result) => {\n      saveToHistory()\n      // Emit to backend for AI learning\n      emitOperationToBackend(operation, result)\n    })\n  }\n\n  async function executeAtomicOperation(operation: AtomicOperationData): Promise<any> {\n    if (!atomicEngine.value) {\n      initializeEngine()\n    }\n    \n    try {\n      const result = await atomicEngine.value!.execute(operation)\n      \n      // Update local state\n      presentation.value = atomicEngine.value!.getPresentation()\n      \n      return result\n    } catch (error) {\n      console.error('Failed to execute atomic operation:', error)\n      throw error\n    }\n  }\n\n  // Atomic Operation Helpers\n  async function addText(slideIndex: number, data: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.ADD,\n      type: ElementType.TEXT,\n      target: slideIndex,\n      data,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function addImage(slideIndex: number, data: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.ADD,\n      type: ElementType.IMAGE,\n      target: slideIndex,\n      data,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function addShape(slideIndex: number, data: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.ADD,\n      type: ElementType.SHAPE,\n      target: slideIndex,\n      data,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function addChart(slideIndex: number, data: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.ADD,\n      type: ElementType.CHART,\n      target: slideIndex,\n      data,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function addTable(slideIndex: number, data: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.ADD,\n      type: ElementType.TABLE,\n      target: slideIndex,\n      data,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function removeElement(elementId: string) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.REMOVE,\n      type: 'element',\n      target: elementId,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function modifyElement(elementId: string, changes: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.MODIFY,\n      type: 'element',\n      target: elementId,\n      data: changes,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function createSlide(data: any = {}) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.CREATE,\n      type: ElementType.SLIDE,\n      target: canvas.value.activeSlide,\n      data: { after: canvas.value.activeSlide, ...data },\n      timestamp: Date.now()\n    }\n    const result = await executeAtomicOperation(operation)\n    \n    // Move to new slide\n    canvas.value.activeSlide = Math.min(canvas.value.activeSlide + 1, totalSlides.value - 1)\n    \n    return result\n  }\n\n  async function deleteSlide(slideIndex: number) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.DELETE,\n      type: ElementType.SLIDE,\n      target: slideIndex,\n      timestamp: Date.now()\n    }\n    const result = await executeAtomicOperation(operation)\n    \n    // Adjust active slide if necessary\n    if (canvas.value.activeSlide >= totalSlides.value) {\n      canvas.value.activeSlide = Math.max(0, totalSlides.value - 1)\n    }\n    \n    return result\n  }\n\n  async function reorderSlides(newOrder: number[]) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.REORDER,\n      type: 'slides',\n      target: newOrder,\n      data: { order: newOrder },\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  async function applyTheme(themeData: any) {\n    const operation: AtomicOperationData = {\n      op: AtomicOperation.APPLY,\n      type: ElementType.THEME,\n      target: 'all',\n      data: themeData,\n      timestamp: Date.now()\n    }\n    return executeAtomicOperation(operation)\n  }\n\n  // Canvas Operations\n  function setActiveSlide(index: number) {\n    if (index >= 0 && index < totalSlides.value) {\n      canvas.value.activeSlide = index\n      selectedElements.value = []\n    }\n  }\n\n  function setZoom(zoom: number) {\n    canvas.value.zoom = Math.max(0.1, Math.min(5, zoom))\n  }\n\n  function setCanvasOffset(x: number, y: number) {\n    canvas.value.offsetX = x\n    canvas.value.offsetY = y\n  }\n\n  function selectElements(elementIds: string[]) {\n    selectedElements.value = elementIds\n  }\n\n  function toggleElementSelection(elementId: string) {\n    const index = selectedElements.value.indexOf(elementId)\n    if (index === -1) {\n      selectedElements.value.push(elementId)\n    } else {\n      selectedElements.value.splice(index, 1)\n    }\n  }\n\n  function clearSelection() {\n    selectedElements.value = []\n  }\n\n  // History Management\n  function saveToHistory() {\n    history.value.past.push(JSON.parse(JSON.stringify(presentation.value)))\n    history.value.future = []\n    \n    // Limit history size\n    if (history.value.past.length > 50) {\n      history.value.past.shift()\n    }\n  }\n\n  function undo() {\n    if (canUndo.value) {\n      history.value.future.unshift(JSON.parse(JSON.stringify(presentation.value)))\n      const previousState = history.value.past.pop()\n      presentation.value = previousState\n      \n      // Reinitialize engine with restored state\n      initializeEngine()\n    }\n  }\n\n  function redo() {\n    if (canRedo.value) {\n      history.value.past.push(JSON.parse(JSON.stringify(presentation.value)))\n      const nextState = history.value.future.shift()\n      presentation.value = nextState\n      \n      // Reinitialize engine with restored state\n      initializeEngine()\n    }\n  }\n\n  // Clipboard Operations\n  function copyElements(elementIds: string[]) {\n    const elements = currentSlide.value?.elements.filter(el => \n      elementIds.includes(el.id)\n    ) || []\n    clipboard.value = JSON.parse(JSON.stringify(elements))\n  }\n\n  async function pasteElements() {\n    if (clipboard.value.length === 0) return\n    \n    const operations: AtomicOperationData[] = []\n    \n    for (const element of clipboard.value) {\n      const newElement = { \n        ...element, \n        id: uuidv4(),\n        left: element.left + 20,\n        top: element.top + 20\n      }\n      \n      operations.push({\n        op: AtomicOperation.ADD,\n        type: element.type as ElementType,\n        target: canvas.value.activeSlide,\n        data: newElement,\n        timestamp: Date.now()\n      })\n    }\n    \n    // Execute all paste operations\n    for (const operation of operations) {\n      await executeAtomicOperation(operation)\n    }\n  }\n\n  // Presentation Management\n  function newPresentation() {\n    presentation.value = createDefaultPresentation()\n    canvas.value = createDefaultCanvasState()\n    history.value = { past: [], present: null, future: [] }\n    selectedElements.value = []\n    initializeEngine()\n  }\n\n  function loadPresentation(data: Presentation) {\n    presentation.value = data\n    canvas.value = createDefaultCanvasState()\n    history.value = { past: [], present: null, future: [] }\n    selectedElements.value = []\n    initializeEngine()\n  }\n\n  // Export current state\n  function exportPresentation() {\n    return JSON.parse(JSON.stringify(presentation.value))\n  }\n\n  // Performance metrics\n  function getPerformanceMetrics() {\n    return atomicEngine.value?.getPerformanceMetrics() || {}\n  }\n\n  // Backend communication\n  async function emitOperationToBackend(operation: AtomicOperationData, result: any) {\n    try {\n      // This would send the operation to the backend for AI learning\n      const response = await fetch('/api/operations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          operation,\n          result,\n          presentationId: presentation.value.id,\n          slideIndex: canvas.value.activeSlide,\n          context: {\n            totalSlides: totalSlides.value,\n            currentElements: currentSlide.value?.elements.length || 0,\n            selectedElements: selectedElements.value.length\n          }\n        })\n      })\n      \n      if (!response.ok) {\n        console.warn('Failed to send operation to backend')\n      }\n    } catch (error) {\n      console.warn('Backend communication error:', error)\n    }\n  }\n\n  // Initialize on store creation\n  initializeEngine()\n\n  return {\n    // State\n    presentation,\n    canvas,\n    history,\n    clipboard,\n    isPlaying,\n    isFullscreen,\n    selectedElements,\n    \n    // Computed\n    currentSlide,\n    totalSlides,\n    canUndo,\n    canRedo,\n    \n    // Actions\n    executeAtomicOperation,\n    addText,\n    addImage,\n    addShape,\n    addChart,\n    addTable,\n    removeElement,\n    modifyElement,\n    createSlide,\n    deleteSlide,\n    reorderSlides,\n    applyTheme,\n    setActiveSlide,\n    setZoom,\n    setCanvasOffset,\n    selectElements,\n    toggleElementSelection,\n    clearSelection,\n    saveToHistory,\n    undo,\n    redo,\n    copyElements,\n    pasteElements,\n    newPresentation,\n    loadPresentation,\n    exportPresentation,\n    getPerformanceMetrics\n  }\n})\n\n// Helper functions\nfunction createDefaultPresentation(): Presentation {\n  const defaultTheme: PresentationTheme = {\n    id: uuidv4(),\n    name: 'Default',\n    colors: {\n      primary: '#1976D2',\n      secondary: '#424242',\n      background: '#FFFFFF',\n      text: '#333333',\n      accent: '#FF5722'\n    },\n    fonts: {\n      heading: 'Arial',\n      body: 'Arial'\n    },\n    layouts: {},\n    templates: {}\n  }\n\n  const defaultSlide: Slide = {\n    id: uuidv4(),\n    elements: [],\n    layout: 'blank',\n    createdAt: Date.now(),\n    updatedAt: Date.now()\n  }\n\n  return {\n    id: uuidv4(),\n    title: 'New Presentation',\n    slides: [defaultSlide],\n    theme: defaultTheme,\n    settings: {\n      width: 1920,\n      height: 1080,\n      ratio: '16:9'\n    },\n    metadata: {\n      author: 'AI-PPT User',\n      createdAt: Date.now(),\n      updatedAt: Date.now(),\n      version: '1.0.0',\n      tags: []\n    }\n  }\n}\n\nfunction createDefaultCanvasState(): CanvasState {\n  return {\n    zoom: 1,\n    offsetX: 0,\n    offsetY: 0,\n    selectedElements: [],\n    activeSlide: 0,\n    gridVisible: false,\n    guidesVisible: false,\n    snapToGrid: true\n  }\n}","/**\n * AI Store\n * \n * Manages AI predictions, learning, and autonomous operations\n */\n\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { \n  AtomicOperationData, \n  AtomPrediction, \n  AIContext,\n  OperationSequence \n} from '@/types/atoms'\nimport { usePresentationStore } from './presentation'\n\nexport const useAIStore = defineStore('ai', () => {\n  // State\n  const isLearning = ref(false)\n  const predictions = ref<AtomPrediction[]>([])\n  const operationSequences = ref<OperationSequence[]>([])\n  const aiSuggestions = ref<AtomicOperationData[]>([])\n  const learningProgress = ref(0)\n  const modelMetrics = ref({\n    accuracy: 0,\n    totalOperations: 0,\n    successfulPredictions: 0,\n    averageConfidence: 0\n  })\n\n  // Computed\n  const topPrediction = computed(() => {\n    return predictions.value.length > 0 ? predictions.value[0] : null\n  })\n\n  const isAIReady = computed(() => {\n    return modelMetrics.value.totalOperations > 100 && modelMetrics.value.accuracy > 0.7\n  })\n\n  const suggestionCount = computed(() => {\n    return aiSuggestions.value.length\n  })\n\n  // Actions\n  async function predictNextAtom(context: AIContext): Promise<AtomPrediction | null> {\n    try {\n      const response = await fetch('/api/ai/predict', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ context })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to get AI prediction')\n      }\n\n      const prediction: AtomPrediction = await response.json()\n      \n      // Add to predictions list\n      predictions.value.unshift(prediction)\n      \n      // Keep only recent predictions\n      if (predictions.value.length > 10) {\n        predictions.value = predictions.value.slice(0, 10)\n      }\n\n      return prediction\n    } catch (error) {\n      console.error('AI prediction error:', error)\n      return null\n    }\n  }\n\n  async function generateSuggestions(slideIndex: number): Promise<AtomicOperationData[]> {\n    const presentationStore = usePresentationStore()\n    \n    const context: AIContext = {\n      currentSlide: {\n        index: slideIndex,\n        elements: presentationStore.currentSlide?.elements || [],\n        layout: presentationStore.currentSlide?.layout || 'blank'\n      },\n      presentation: {\n        totalSlides: presentationStore.totalSlides,\n        theme: presentationStore.presentation.theme.name,\n        purpose: 'general' // This could be inferred or user-specified\n      },\n      userBehavior: {\n        recentOperations: await getRecentOperations(),\n        patterns: await getOperationPatterns(),\n        preferences: await getUserPreferences()\n      }\n    }\n\n    try {\n      const response = await fetch('/api/ai/suggestions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ context })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to get AI suggestions')\n      }\n\n      const suggestions: AtomicOperationData[] = await response.json()\n      aiSuggestions.value = suggestions\n\n      return suggestions\n    } catch (error) {\n      console.error('AI suggestions error:', error)\n      return []\n    }\n  }\n\n  async function executeAISuggestion(suggestion: AtomicOperationData) {\n    const presentationStore = usePresentationStore()\n    \n    try {\n      await presentationStore.executeAtomicOperation(suggestion)\n      \n      // Remove executed suggestion\n      const index = aiSuggestions.value.findIndex(s => \n        s.op === suggestion.op && \n        s.type === suggestion.type && \n        s.timestamp === suggestion.timestamp\n      )\n      if (index !== -1) {\n        aiSuggestions.value.splice(index, 1)\n      }\n\n      // Update metrics\n      modelMetrics.value.successfulPredictions++\n      updateModelMetrics()\n\n    } catch (error) {\n      console.error('Failed to execute AI suggestion:', error)\n      throw error\n    }\n  }\n\n  async function learnFromOperation(operation: AtomicOperationData, result: any) {\n    try {\n      const response = await fetch('/api/ai/learn', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          operation,\n          result,\n          timestamp: Date.now()\n        })\n      })\n\n      if (response.ok) {\n        modelMetrics.value.totalOperations++\n        updateModelMetrics()\n      }\n    } catch (error) {\n      console.error('AI learning error:', error)\n    }\n  }\n\n  async function generatePresentation(prompt: string): Promise<OperationSequence> {\n    isLearning.value = true\n    learningProgress.value = 0\n\n    try {\n      const response = await fetch('/api/ai/generate-presentation', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ prompt })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to generate presentation')\n      }\n\n      const sequence: OperationSequence = await response.json()\n      operationSequences.value.push(sequence)\n\n      return sequence\n    } catch (error) {\n      console.error('Presentation generation error:', error)\n      throw error\n    } finally {\n      isLearning.value = false\n      learningProgress.value = 0\n    }\n  }\n\n  async function executeOperationSequence(sequence: OperationSequence) {\n    const presentationStore = usePresentationStore()\n    \n    for (let i = 0; i < sequence.atoms.length; i++) {\n      const operation = sequence.atoms[i]\n      \n      try {\n        await presentationStore.executeAtomicOperation(operation)\n        learningProgress.value = ((i + 1) / sequence.atoms.length) * 100\n        \n        // Small delay for visual feedback\n        await new Promise(resolve => setTimeout(resolve, 100))\n      } catch (error) {\n        console.error(`Failed to execute operation ${i}:`, error)\n        break\n      }\n    }\n  }\n\n  async function analyzeUserPatterns(): Promise<string[]> {\n    try {\n      const response = await fetch('/api/ai/analyze-patterns')\n      \n      if (!response.ok) {\n        throw new Error('Failed to analyze patterns')\n      }\n\n      const patterns: string[] = await response.json()\n      return patterns\n    } catch (error) {\n      console.error('Pattern analysis error:', error)\n      return []\n    }\n  }\n\n  async function getOperationSequences(): Promise<OperationSequence[]> {\n    try {\n      const response = await fetch('/api/ai/sequences')\n      \n      if (!response.ok) {\n        throw new Error('Failed to get operation sequences')\n      }\n\n      const sequences: OperationSequence[] = await response.json()\n      operationSequences.value = sequences\n      \n      return sequences\n    } catch (error) {\n      console.error('Failed to get sequences:', error)\n      return []\n    }\n  }\n\n  function clearSuggestions() {\n    aiSuggestions.value = []\n  }\n\n  function clearPredictions() {\n    predictions.value = []\n  }\n\n  // Helper functions\n  async function getRecentOperations(): Promise<AtomicOperationData[]> {\n    try {\n      const response = await fetch('/api/operations/recent')\n      if (response.ok) {\n        return await response.json()\n      }\n    } catch (error) {\n      console.error('Failed to get recent operations:', error)\n    }\n    return []\n  }\n\n  async function getOperationPatterns(): Promise<string[]> {\n    try {\n      const response = await fetch('/api/ai/patterns')\n      if (response.ok) {\n        return await response.json()\n      }\n    } catch (error) {\n      console.error('Failed to get operation patterns:', error)\n    }\n    return []\n  }\n\n  async function getUserPreferences(): Promise<Record<string, any>> {\n    try {\n      const response = await fetch('/api/user/preferences')\n      if (response.ok) {\n        return await response.json()\n      }\n    } catch (error) {\n      console.error('Failed to get user preferences:', error)\n    }\n    return {}\n  }\n\n  function updateModelMetrics() {\n    if (modelMetrics.value.totalOperations > 0) {\n      modelMetrics.value.accuracy = \n        modelMetrics.value.successfulPredictions / modelMetrics.value.totalOperations\n    }\n  }\n\n  // Auto-suggestion system\n  let suggestionTimer: NodeJS.Timeout | null = null\n\n  function startAutoSuggestions() {\n    if (suggestionTimer) return\n\n    suggestionTimer = setInterval(async () => {\n      const presentationStore = usePresentationStore()\n      \n      if (isAIReady.value && aiSuggestions.value.length < 3) {\n        await generateSuggestions(presentationStore.canvas.activeSlide)\n      }\n    }, 5000) // Generate suggestions every 5 seconds\n  }\n\n  function stopAutoSuggestions() {\n    if (suggestionTimer) {\n      clearInterval(suggestionTimer)\n      suggestionTimer = null\n    }\n  }\n\n  // Smart templates based on content analysis\n  async function suggestTemplate(content: string): Promise<string> {\n    try {\n      const response = await fetch('/api/ai/suggest-template', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ content })\n      })\n\n      if (response.ok) {\n        const { template } = await response.json()\n        return template\n      }\n    } catch (error) {\n      console.error('Template suggestion error:', error)\n    }\n    return 'blank'\n  }\n\n  // Content enhancement suggestions\n  async function enhanceContent(elementId: string, content: string): Promise<string> {\n    try {\n      const response = await fetch('/api/ai/enhance-content', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ elementId, content })\n      })\n\n      if (response.ok) {\n        const { enhancedContent } = await response.json()\n        return enhancedContent\n      }\n    } catch (error) {\n      console.error('Content enhancement error:', error)\n    }\n    return content\n  }\n\n  return {\n    // State\n    isLearning,\n    predictions,\n    operationSequences,\n    aiSuggestions,\n    learningProgress,\n    modelMetrics,\n    \n    // Computed\n    topPrediction,\n    isAIReady,\n    suggestionCount,\n    \n    // Actions\n    predictNextAtom,\n    generateSuggestions,\n    executeAISuggestion,\n    learnFromOperation,\n    generatePresentation,\n    executeOperationSequence,\n    analyzeUserPatterns,\n    getOperationSequences,\n    clearSuggestions,\n    clearPredictions,\n    startAutoSuggestions,\n    stopAutoSuggestions,\n    suggestTemplate,\n    enhanceContent\n  }\n})","import { createPinia } from 'pinia'\n\nexport const pinia = createPinia()\n\nexport { usePresentationStore } from './presentation'\nexport { useAIStore } from './ai'","<template>\n  <div id=\"app\" class=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted } from 'vue'\nimport { useAIStore } from '@/stores'\n\nconst aiStore = useAIStore()\n\nonMounted(() => {\n  // Start AI auto-suggestions\n  aiStore.startAutoSuggestions()\n  \n  // Global keyboard shortcuts\n  document.addEventListener('keydown', handleGlobalKeydown)\n})\n\nonUnmounted(() => {\n  // Stop AI auto-suggestions\n  aiStore.stopAutoSuggestions()\n  \n  // Remove global listeners\n  document.removeEventListener('keydown', handleGlobalKeydown)\n})\n\nfunction handleGlobalKeydown(event: KeyboardEvent) {\n  // Global shortcuts that work anywhere in the app\n  if (event.ctrlKey || event.metaKey) {\n    switch (event.key) {\n      case 's':\n        event.preventDefault()\n        // Auto-save functionality would go here\n        break\n      case 'z':\n        if (event.shiftKey) {\n          event.preventDefault()\n          // Redo\n        } else {\n          event.preventDefault()\n          // Undo\n        }\n        break\n    }\n  }\n}\n</script>\n\n<style>\n.app {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n}\n</style>","<template>\n  <div class=\"toolbar-main\">\n    <div class=\"toolbar-section\">\n      <!-- File operations -->\n      <button class=\"btn btn-ghost btn-sm\" @click=\"newPresentation\" title=\"New\">\n        📄\n      </button>\n      <button class=\"btn btn-ghost btn-sm\" @click=\"openPresentation\" title=\"Open\">\n        📁\n      </button>\n      <button class=\"btn btn-ghost btn-sm\" @click=\"savePresentation\" title=\"Save\">\n        💾\n      </button>\n      <div class=\"toolbar-divider\"></div>\n    </div>\n\n    <div class=\"toolbar-section\">\n      <!-- History -->\n      <button \n        class=\"btn btn-ghost btn-sm\" \n        :disabled=\"!presentationStore.canUndo\"\n        @click=\"presentationStore.undo()\"\n        title=\"Undo\"\n      >\n        ↶\n      </button>\n      <button \n        class=\"btn btn-ghost btn-sm\"\n        :disabled=\"!presentationStore.canRedo\"\n        @click=\"presentationStore.redo()\"\n        title=\"Redo\"\n      >\n        ↷\n      </button>\n      <div class=\"toolbar-divider\"></div>\n    </div>\n\n    <div class=\"toolbar-section\">\n      <!-- Add elements -->\n      <div class=\"dropdown\" ref=\"addDropdown\">\n        <button \n          class=\"btn btn-ghost btn-sm dropdown-trigger\"\n          @click=\"toggleAddDropdown\"\n          title=\"Add Element\"\n        >\n          ➕ Add\n        </button>\n        <div v-if=\"showAddDropdown\" class=\"dropdown-menu\">\n          <button class=\"dropdown-item\" @click=\"addText\">\n            📝 Text\n          </button>\n          <button class=\"dropdown-item\" @click=\"addImage\">\n            🖼️ Image\n          </button>\n          <button class=\"dropdown-item\" @click=\"addShape\">\n            🔷 Shape\n          </button>\n          <button class=\"dropdown-item\" @click=\"addChart\">\n            📊 Chart\n          </button>\n          <button class=\"dropdown-item\" @click=\"addTable\">\n            📋 Table\n          </button>\n        </div>\n      </div>\n      <div class=\"toolbar-divider\"></div>\n    </div>\n\n    <div class=\"toolbar-section\">\n      <!-- Slide operations -->\n      <button class=\"btn btn-ghost btn-sm\" @click=\"addSlide\" title=\"New Slide\">\n        📄+\n      </button>\n      <button \n        class=\"btn btn-ghost btn-sm\"\n        :disabled=\"presentationStore.totalSlides <= 1\"\n        @click=\"deleteSlide\"\n        title=\"Delete Slide\"\n      >\n        🗑️\n      </button>\n      <button class=\"btn btn-ghost btn-sm\" @click=\"duplicateSlide\" title=\"Duplicate Slide\">\n        📋\n      </button>\n      <div class=\"toolbar-divider\"></div>\n    </div>\n\n    <div class=\"toolbar-section\">\n      <!-- Themes -->\n      <div class=\"dropdown\" ref=\"themeDropdown\">\n        <button \n          class=\"btn btn-ghost btn-sm dropdown-trigger\"\n          @click=\"toggleThemeDropdown\"\n          title=\"Themes\"\n        >\n          🎨 Theme\n        </button>\n        <div v-if=\"showThemeDropdown\" class=\"dropdown-menu\">\n          <button \n            v-for=\"theme in themes\"\n            :key=\"theme.name\"\n            class=\"dropdown-item theme-item\"\n            @click=\"applyTheme(theme)\"\n          >\n            <div class=\"theme-preview\" :style=\"getThemePreview(theme)\"></div>\n            {{ theme.name }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { usePresentationStore } from '@/stores'\n\nconst presentationStore = usePresentationStore()\n\nconst showAddDropdown = ref(false)\nconst showThemeDropdown = ref(false)\nconst addDropdown = ref<HTMLElement>()\nconst themeDropdown = ref<HTMLElement>()\n\nconst themes = ref([\n  {\n    name: 'Default',\n    colors: {\n      primary: '#1976D2',\n      secondary: '#424242',\n      background: '#FFFFFF',\n      text: '#333333',\n      accent: '#FF5722'\n    }\n  },\n  {\n    name: 'Dark',\n    colors: {\n      primary: '#BB86FC',\n      secondary: '#03DAC6',\n      background: '#121212',\n      text: '#FFFFFF',\n      accent: '#CF6679'\n    }\n  },\n  {\n    name: 'Nature',\n    colors: {\n      primary: '#4CAF50',\n      secondary: '#8BC34A',\n      background: '#F1F8E9',\n      text: '#2E7D32',\n      accent: '#FF9800'\n    }\n  },\n  {\n    name: 'Ocean',\n    colors: {\n      primary: '#2196F3',\n      secondary: '#00BCD4',\n      background: '#E3F2FD',\n      text: '#0D47A1',\n      accent: '#FF5722'\n    }\n  },\n  {\n    name: 'Sunset',\n    colors: {\n      primary: '#FF5722',\n      secondary: '#FF9800',\n      background: '#FFF3E0',\n      text: '#BF360C',\n      accent: '#9C27B0'\n    }\n  }\n])\n\nfunction toggleAddDropdown() {\n  showAddDropdown.value = !showAddDropdown.value\n  showThemeDropdown.value = false\n}\n\nfunction toggleThemeDropdown() {\n  showThemeDropdown.value = !showThemeDropdown.value\n  showAddDropdown.value = false\n}\n\nfunction closeDropdowns() {\n  showAddDropdown.value = false\n  showThemeDropdown.value = false\n}\n\n// File operations\nfunction newPresentation() {\n  if (confirm('Create a new presentation? Unsaved changes will be lost.')) {\n    presentationStore.newPresentation()\n  }\n}\n\nfunction openPresentation() {\n  // This would typically open a file picker or presentation browser\n  console.log('Open presentation')\n}\n\nasync function savePresentation() {\n  try {\n    const data = presentationStore.exportPresentation()\n    const response = await fetch(`/api/presentations/${data.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data)\n    })\n    \n    if (response.ok) {\n      console.log('✅ Presentation saved')\n    } else {\n      console.error('❌ Failed to save presentation')\n    }\n  } catch (error) {\n    console.error('Save error:', error)\n  }\n}\n\n// Add elements\nasync function addText() {\n  closeDropdowns()\n  const slideIndex = presentationStore.canvas.activeSlide\n  await presentationStore.addText(slideIndex, {\n    content: 'Click to edit text',\n    x: 100,\n    y: 100,\n    width: 300,\n    height: 60,\n    fontSize: 18,\n    color: '#333333'\n  })\n}\n\nasync function addImage() {\n  closeDropdowns()\n  // This would typically open a file picker\n  const input = document.createElement('input')\n  input.type = 'file'\n  input.accept = 'image/*'\n  input.onchange = async (e) => {\n    const file = (e.target as HTMLInputElement).files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = async (e) => {\n        const src = e.target?.result as string\n        const slideIndex = presentationStore.canvas.activeSlide\n        await presentationStore.addImage(slideIndex, {\n          src,\n          x: 100,\n          y: 100,\n          width: 300,\n          height: 200\n        })\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n  input.click()\n}\n\nasync function addShape() {\n  closeDropdowns()\n  const slideIndex = presentationStore.canvas.activeSlide\n  await presentationStore.addShape(slideIndex, {\n    shape: 'rectangle',\n    x: 100,\n    y: 100,\n    width: 150,\n    height: 100,\n    fill: '#1976D2',\n    stroke: '#1565C0',\n    strokeWidth: 2\n  })\n}\n\nasync function addChart() {\n  closeDropdowns()\n  const slideIndex = presentationStore.canvas.activeSlide\n  await presentationStore.addChart(slideIndex, {\n    chartType: 'bar',\n    data: {\n      labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n      datasets: [{\n        label: 'Sales',\n        data: [30, 45, 60, 80],\n        backgroundColor: '#1976D2'\n      }]\n    },\n    x: 100,\n    y: 100,\n    width: 400,\n    height: 250\n  })\n}\n\nasync function addTable() {\n  closeDropdowns()\n  const slideIndex = presentationStore.canvas.activeSlide\n  await presentationStore.addTable(slideIndex, {\n    rows: 3,\n    columns: 3,\n    data: [\n      ['Header 1', 'Header 2', 'Header 3'],\n      ['Cell 1', 'Cell 2', 'Cell 3'],\n      ['Cell 4', 'Cell 5', 'Cell 6']\n    ],\n    x: 100,\n    y: 100,\n    width: 400,\n    height: 200\n  })\n}\n\n// Slide operations\nasync function addSlide() {\n  await presentationStore.createSlide()\n}\n\nasync function deleteSlide() {\n  if (confirm('Delete this slide?')) {\n    await presentationStore.deleteSlide(presentationStore.canvas.activeSlide)\n  }\n}\n\nasync function duplicateSlide() {\n  const currentSlide = presentationStore.currentSlide\n  if (currentSlide) {\n    await presentationStore.createSlide({\n      layout: currentSlide.layout,\n      elements: currentSlide.elements.map(el => ({ ...el }))\n    })\n  }\n}\n\n// Theme operations\nasync function applyTheme(theme: any) {\n  closeDropdowns()\n  await presentationStore.applyTheme(theme)\n}\n\nfunction getThemePreview(theme: any) {\n  return {\n    background: `linear-gradient(45deg, ${theme.colors.primary}, ${theme.colors.secondary})`,\n    width: '20px',\n    height: '20px',\n    borderRadius: '4px'\n  }\n}\n\n// Click outside handler\nfunction handleClickOutside(event: MouseEvent) {\n  if (addDropdown.value && !addDropdown.value.contains(event.target as Node)) {\n    showAddDropdown.value = false\n  }\n  if (themeDropdown.value && !themeDropdown.value.contains(event.target as Node)) {\n    showThemeDropdown.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>\n\n<style scoped>\n.toolbar-main {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  background: var(--surface);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 2px 8px var(--shadow);\n}\n\n.toolbar-section {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.toolbar-divider {\n  width: 1px;\n  height: 24px;\n  background: var(--border);\n  margin: 0 var(--spacing-xs);\n}\n\n.dropdown {\n  position: relative;\n}\n\n.dropdown-trigger {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  margin-top: var(--spacing-xs);\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 8px 32px var(--shadow-dark);\n  padding: var(--spacing-xs);\n  min-width: 150px;\n  z-index: 1000;\n}\n\n.dropdown-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  width: 100%;\n  padding: var(--spacing-sm);\n  border: none;\n  background: none;\n  text-align: left;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: background-color var(--transition-fast);\n  font-size: var(--font-size-sm);\n}\n\n.dropdown-item:hover {\n  background: var(--border-light);\n}\n\n.theme-item {\n  justify-content: flex-start;\n}\n\n.theme-preview {\n  flex-shrink: 0;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .toolbar-main {\n    gap: var(--spacing-xs);\n    padding: var(--spacing-xs);\n  }\n  \n  .toolbar-section {\n    gap: 2px;\n  }\n  \n  .btn-sm {\n    padding: var(--spacing-xs);\n    font-size: 12px;\n  }\n  \n  .toolbar-divider {\n    margin: 0 2px;\n  }\n}\n</style>","<template>\n  <div class=\"ai-panel\">\n    <button \n      class=\"ai-toggle-btn\"\n      :class=\"{ active: showPanel }\"\n      @click=\"togglePanel\"\n      title=\"AI Assistant\"\n    >\n      🤖 AI\n      <span v-if=\"aiStore.suggestionCount > 0\" class=\"suggestion-badge\">\n        {{ aiStore.suggestionCount }}\n      </span>\n    </button>\n\n    <div v-if=\"showPanel\" class=\"ai-panel-content\">\n      <div class=\"ai-header\">\n        <h3>AI Assistant</h3>\n        <button class=\"close-btn\" @click=\"showPanel = false\">×</button>\n      </div>\n\n      <div class=\"ai-body\">\n        <!-- AI Status -->\n        <div class=\"ai-status\">\n          <div class=\"status-indicator\" :class=\"{ ready: aiStore.isAIReady }\"></div>\n          <span v-if=\"aiStore.isAIReady\">AI Ready</span>\n          <span v-else>Learning... ({{ aiStore.modelMetrics.totalOperations }}/100 operations)</span>\n        </div>\n\n        <!-- Quick Actions -->\n        <div class=\"quick-actions\">\n          <h4>Quick Actions</h4>\n          <button \n            class=\"action-btn\"\n            @click=\"generateSuggestions\"\n            :disabled=\"aiStore.isLearning\"\n          >\n            💡 Get Suggestions\n          </button>\n          <button \n            class=\"action-btn\"\n            @click=\"showGenerateModal = true\"\n            :disabled=\"!aiStore.isAIReady\"\n          >\n            ✨ Generate Presentation\n          </button>\n          <button \n            class=\"action-btn\"\n            @click=\"enhanceCurrentSlide\"\n            :disabled=\"!aiStore.isAIReady\"\n          >\n            🎨 Enhance Slide\n          </button>\n        </div>\n\n        <!-- Current Suggestions -->\n        <div v-if=\"aiStore.suggestionCount > 0\" class=\"suggestions\">\n          <h4>Suggestions</h4>\n          <div class=\"suggestion-list\">\n            <div\n              v-for=\"(suggestion, index) in aiStore.aiSuggestions\"\n              :key=\"index\"\n              class=\"suggestion-item\"\n            >\n              <div class=\"suggestion-content\">\n                <div class=\"suggestion-title\">\n                  {{ getSuggestionTitle(suggestion) }}\n                </div>\n                <div class=\"suggestion-description\">\n                  {{ getSuggestionDescription(suggestion) }}\n                </div>\n              </div>\n              <div class=\"suggestion-actions\">\n                <button \n                  class=\"btn btn-sm btn-primary\"\n                  @click=\"applySuggestion(suggestion)\"\n                >\n                  Apply\n                </button>\n                <button \n                  class=\"btn btn-sm btn-ghost\"\n                  @click=\"dismissSuggestion(index)\"\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- AI Metrics -->\n        <div class=\"ai-metrics\">\n          <h4>AI Performance</h4>\n          <div class=\"metric\">\n            <span>Accuracy:</span>\n            <span>{{ Math.round(aiStore.modelMetrics.accuracy * 100) }}%</span>\n          </div>\n          <div class=\"metric\">\n            <span>Operations:</span>\n            <span>{{ aiStore.modelMetrics.totalOperations }}</span>\n          </div>\n          <div class=\"metric\">\n            <span>Successful Predictions:</span>\n            <span>{{ aiStore.modelMetrics.successfulPredictions }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Generate Presentation Modal -->\n    <div v-if=\"showGenerateModal\" class=\"modal-overlay\" @click=\"showGenerateModal = false\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>Generate Presentation</h3>\n          <button class=\"close-btn\" @click=\"showGenerateModal = false\">×</button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label>Describe your presentation:</label>\n            <textarea\n              v-model=\"generatePrompt\"\n              placeholder=\"e.g., A quarterly business review with sales data, market analysis, and future projections\"\n              rows=\"4\"\n            ></textarea>\n          </div>\n          <div class=\"form-group\">\n            <label>Presentation type:</label>\n            <select v-model=\"presentationType\">\n              <option value=\"business\">Business</option>\n              <option value=\"educational\">Educational</option>\n              <option value=\"marketing\">Marketing</option>\n              <option value=\"technical\">Technical</option>\n              <option value=\"creative\">Creative</option>\n            </select>\n          </div>\n          <div class=\"form-group\">\n            <label>Number of slides:</label>\n            <input \n              type=\"number\" \n              v-model=\"slideCount\" \n              min=\"3\" \n              max=\"20\" \n              placeholder=\"10\"\n            />\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button class=\"btn btn-ghost\" @click=\"showGenerateModal = false\">\n            Cancel\n          </button>\n          <button \n            class=\"btn btn-primary\"\n            @click=\"generatePresentation\"\n            :disabled=\"!generatePrompt.trim() || aiStore.isLearning\"\n          >\n            {{ aiStore.isLearning ? 'Generating...' : 'Generate' }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { useAIStore, usePresentationStore } from '@/stores'\nimport type { AtomicOperationData } from '@/types/atoms'\n\nconst aiStore = useAIStore()\nconst presentationStore = usePresentationStore()\n\nconst showPanel = ref(false)\nconst showGenerateModal = ref(false)\nconst generatePrompt = ref('')\nconst presentationType = ref('business')\nconst slideCount = ref(10)\n\nfunction togglePanel() {\n  showPanel.value = !showPanel.value\n}\n\nasync function generateSuggestions() {\n  await aiStore.generateSuggestions(presentationStore.canvas.activeSlide)\n}\n\nasync function enhanceCurrentSlide() {\n  // This would analyze the current slide and suggest improvements\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return\n\n  // Generate contextual suggestions based on current content\n  await aiStore.generateSuggestions(presentationStore.canvas.activeSlide)\n}\n\nasync function generatePresentation() {\n  if (!generatePrompt.value.trim()) return\n\n  try {\n    const fullPrompt = `${generatePrompt.value}\\n\\nType: ${presentationType.value}\\nSlides: ${slideCount.value}`\n    const sequence = await aiStore.generatePresentation(fullPrompt)\n    \n    // Clear current presentation\n    presentationStore.newPresentation()\n    \n    // Execute the generated sequence\n    await aiStore.executeOperationSequence(sequence)\n    \n    showGenerateModal.value = false\n    generatePrompt.value = ''\n  } catch (error) {\n    console.error('Failed to generate presentation:', error)\n    alert('Failed to generate presentation. Please try again.')\n  }\n}\n\nasync function applySuggestion(suggestion: AtomicOperationData) {\n  try {\n    await aiStore.executeAISuggestion(suggestion)\n  } catch (error) {\n    console.error('Failed to apply suggestion:', error)\n    alert('Failed to apply suggestion. Please try again.')\n  }\n}\n\nfunction dismissSuggestion(index: number) {\n  aiStore.aiSuggestions.splice(index, 1)\n}\n\nfunction getSuggestionTitle(suggestion: AtomicOperationData): string {\n  const opTitles = {\n    ADD: 'Add',\n    REMOVE: 'Remove',\n    MODIFY: 'Modify',\n    CREATE: 'Create',\n    DELETE: 'Delete',\n    REORDER: 'Reorder',\n    APPLY: 'Apply'\n  }\n  \n  const typeNames = {\n    text: 'Text',\n    image: 'Image',\n    shape: 'Shape',\n    chart: 'Chart',\n    table: 'Table',\n    slide: 'Slide',\n    theme: 'Theme'\n  }\n  \n  return `${opTitles[suggestion.op]} ${typeNames[suggestion.type as keyof typeof typeNames] || suggestion.type}`\n}\n\nfunction getSuggestionDescription(suggestion: AtomicOperationData): string {\n  switch (suggestion.op) {\n    case 'ADD':\n      return `Add a new ${suggestion.type} element to enhance your slide`\n    case 'MODIFY':\n      return `Improve the styling and positioning of existing elements`\n    case 'CREATE':\n      return `Create a new slide with optimized layout`\n    case 'APPLY':\n      return `Apply ${suggestion.type} to improve visual consistency`\n    default:\n      return `Suggested ${suggestion.op.toLowerCase()} operation`\n  }\n}\n</script>\n\n<style scoped>\n.ai-panel {\n  position: relative;\n}\n\n.ai-toggle-btn {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-lg);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  font-size: var(--font-size-sm);\n}\n\n.ai-toggle-btn:hover {\n  background: var(--border-light);\n}\n\n.ai-toggle-btn.active {\n  background: var(--primary);\n  color: white;\n  border-color: var(--primary);\n}\n\n.suggestion-badge {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  background: var(--accent);\n  color: white;\n  border-radius: 50%;\n  width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.ai-panel-content {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: var(--spacing-sm);\n  width: 320px;\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 8px 32px var(--shadow-dark);\n  z-index: 1000;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.ai-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--border);\n}\n\n.ai-header h3 {\n  margin: 0;\n  font-size: var(--font-size-lg);\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  color: var(--text-secondary);\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n}\n\n.close-btn:hover {\n  background: var(--border-light);\n}\n\n.ai-body {\n  padding: var(--spacing-md);\n}\n\n.ai-status {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-lg);\n  padding: var(--spacing-sm);\n  background: var(--border-light);\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-sm);\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--text-disabled);\n}\n\n.status-indicator.ready {\n  background: #4CAF50;\n}\n\n.quick-actions,\n.suggestions,\n.ai-metrics {\n  margin-bottom: var(--spacing-lg);\n}\n\n.quick-actions h4,\n.suggestions h4,\n.ai-metrics h4 {\n  margin: 0 0 var(--spacing-sm) 0;\n  font-size: var(--font-size-md);\n  color: var(--text-primary);\n}\n\n.action-btn {\n  display: block;\n  width: 100%;\n  padding: var(--spacing-sm);\n  margin-bottom: var(--spacing-xs);\n  background: var(--border-light);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  text-align: left;\n  font-size: var(--font-size-sm);\n}\n\n.action-btn:hover:not(:disabled) {\n  background: var(--primary);\n  color: white;\n  border-color: var(--primary);\n}\n\n.action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.suggestion-list {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n.suggestion-item {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  background: var(--border-light);\n  border-radius: var(--border-radius);\n}\n\n.suggestion-content {\n  flex: 1;\n}\n\n.suggestion-title {\n  font-weight: 500;\n  font-size: var(--font-size-sm);\n  margin-bottom: var(--spacing-xs);\n}\n\n.suggestion-description {\n  font-size: var(--font-size-xs);\n  color: var(--text-secondary);\n  line-height: 1.4;\n}\n\n.suggestion-actions {\n  display: flex;\n  gap: var(--spacing-xs);\n  flex-shrink: 0;\n}\n\n.ai-metrics {\n  font-size: var(--font-size-sm);\n}\n\n.metric {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: var(--spacing-xs);\n}\n\n.metric span:first-child {\n  color: var(--text-secondary);\n}\n\n.metric span:last-child {\n  font-weight: 500;\n}\n\n/* Modal styles */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.modal-content {\n  background: var(--surface);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 8px 32px var(--shadow-dark);\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow: auto;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid var(--border);\n}\n\n.modal-header h3 {\n  margin: 0;\n}\n\n.modal-body {\n  padding: var(--spacing-lg);\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-lg);\n  border-top: 1px solid var(--border);\n}\n\n.form-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: var(--spacing-xs);\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.form-group textarea,\n.form-group select,\n.form-group input {\n  width: 100%;\n  padding: var(--spacing-sm);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-sm);\n}\n\n.form-group textarea {\n  resize: vertical;\n  min-height: 80px;\n}\n</style>","<template>\n  <div class=\"slide-thumbnails\">\n    <div class=\"thumbnails-header\">\n      <h3>Slides</h3>\n      <button class=\"btn btn-sm btn-primary\" @click=\"addSlide\">\n        + Add\n      </button>\n    </div>\n    \n    <div class=\"thumbnails-list\">\n      <div\n        v-for=\"(slide, index) in presentationStore.presentation.slides\"\n        :key=\"slide.id\"\n        :class=\"[\n          'thumbnail-item',\n          { active: index === presentationStore.canvas.activeSlide }\n        ]\"\n        @click=\"selectSlide(index)\"\n        @contextmenu=\"showContextMenu($event, index)\"\n      >\n        <div class=\"thumbnail-preview\">\n          <div class=\"slide-number\">{{ index + 1 }}</div>\n          <div class=\"slide-content\">\n            <!-- Mini preview of slide elements -->\n            <div\n              v-for=\"element in slide.elements\"\n              :key=\"element.id\"\n              :class=\"`mini-element mini-${element.type}`\"\n              :style=\"getMiniElementStyle(element)\"\n            >\n              <span v-if=\"element.type === 'text'\" class=\"mini-text\">\n                {{ getTextPreview(element) }}\n              </span>\n              <div v-else-if=\"element.type === 'image'\" class=\"mini-image\">🖼️</div>\n              <div v-else-if=\"element.type === 'shape'\" class=\"mini-shape\">🔷</div>\n              <div v-else-if=\"element.type === 'chart'\" class=\"mini-chart\">📊</div>\n              <div v-else-if=\"element.type === 'table'\" class=\"mini-table\">📋</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"thumbnail-info\">\n          <div class=\"slide-title\">\n            {{ getSlideTitle(slide) || `Slide ${index + 1}` }}\n          </div>\n          <div class=\"element-count\">\n            {{ slide.elements.length }} elements\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Context Menu -->\n    <div\n      v-if=\"contextMenu.visible\"\n      class=\"context-menu\"\n      :style=\"contextMenuStyle\"\n      @click.stop\n    >\n      <button class=\"context-item\" @click=\"duplicateSlide\">\n        📋 Duplicate\n      </button>\n      <button class=\"context-item\" @click=\"deleteSlide\">\n        🗑️ Delete\n      </button>\n      <div class=\"context-separator\"></div>\n      <button class=\"context-item\" @click=\"moveSlideUp\">\n        ⬆️ Move Up\n      </button>\n      <button class=\"context-item\" @click=\"moveSlideDown\">\n        ⬇️ Move Down\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport { usePresentationStore } from '@/stores'\nimport type { Slide, PPTElement } from '@/types/slides'\n\nconst presentationStore = usePresentationStore()\n\nconst contextMenu = ref({\n  visible: false,\n  x: 0,\n  y: 0,\n  slideIndex: -1\n})\n\nconst contextMenuStyle = computed(() => ({\n  position: 'fixed',\n  left: `${contextMenu.value.x}px`,\n  top: `${contextMenu.value.y}px`,\n  zIndex: 1000\n}))\n\nfunction selectSlide(index: number) {\n  presentationStore.setActiveSlide(index)\n}\n\nasync function addSlide() {\n  await presentationStore.createSlide()\n}\n\nfunction showContextMenu(event: MouseEvent, slideIndex: number) {\n  event.preventDefault()\n  contextMenu.value = {\n    visible: true,\n    x: event.clientX,\n    y: event.clientY,\n    slideIndex\n  }\n}\n\nfunction hideContextMenu() {\n  contextMenu.value.visible = false\n}\n\nasync function duplicateSlide() {\n  const slideIndex = contextMenu.value.slideIndex\n  const slide = presentationStore.presentation.slides[slideIndex]\n  \n  if (slide) {\n    await presentationStore.createSlide({\n      layout: slide.layout,\n      elements: slide.elements.map(el => ({ ...el }))\n    })\n  }\n  \n  hideContextMenu()\n}\n\nasync function deleteSlide() {\n  const slideIndex = contextMenu.value.slideIndex\n  \n  if (presentationStore.presentation.slides.length > 1) {\n    if (confirm('Delete this slide?')) {\n      await presentationStore.deleteSlide(slideIndex)\n    }\n  }\n  \n  hideContextMenu()\n}\n\nasync function moveSlideUp() {\n  const slideIndex = contextMenu.value.slideIndex\n  \n  if (slideIndex > 0) {\n    const slides = [...presentationStore.presentation.slides]\n    const slide = slides.splice(slideIndex, 1)[0]\n    slides.splice(slideIndex - 1, 0, slide)\n    \n    const newOrder = slides.map((_, i) => i)\n    await presentationStore.reorderSlides(newOrder)\n    \n    presentationStore.setActiveSlide(slideIndex - 1)\n  }\n  \n  hideContextMenu()\n}\n\nasync function moveSlideDown() {\n  const slideIndex = contextMenu.value.slideIndex\n  const totalSlides = presentationStore.presentation.slides.length\n  \n  if (slideIndex < totalSlides - 1) {\n    const slides = [...presentationStore.presentation.slides]\n    const slide = slides.splice(slideIndex, 1)[0]\n    slides.splice(slideIndex + 1, 0, slide)\n    \n    const newOrder = slides.map((_, i) => i)\n    await presentationStore.reorderSlides(newOrder)\n    \n    presentationStore.setActiveSlide(slideIndex + 1)\n  }\n  \n  hideContextMenu()\n}\n\nfunction getMiniElementStyle(element: PPTElement) {\n  const slideWidth = 160\n  const slideHeight = 90\n  const scaleX = slideWidth / presentationStore.presentation.settings.width\n  const scaleY = slideHeight / presentationStore.presentation.settings.height\n  \n  return {\n    position: 'absolute',\n    left: `${element.left * scaleX}px`,\n    top: `${element.top * scaleY}px`,\n    width: `${element.width * scaleX}px`,\n    height: `${element.height * scaleY}px`,\n    transform: `rotate(${element.rotate}deg)`\n  }\n}\n\nfunction getTextPreview(element: any): string {\n  if (element.type !== 'text') return ''\n  \n  // Strip HTML tags and get first few words\n  const text = element.content.replace(/<[^>]*>/g, '')\n  const words = text.split(' ').slice(0, 3)\n  return words.join(' ') + (words.length < text.split(' ').length ? '...' : '')\n}\n\nfunction getSlideTitle(slide: Slide): string {\n  // Try to find a title element\n  const titleElement = slide.elements.find(el => \n    el.type === 'text' && (el as any).style === 'heading'\n  )\n  \n  if (titleElement) {\n    return getTextPreview(titleElement)\n  }\n  \n  // Fallback to first text element\n  const firstText = slide.elements.find(el => el.type === 'text')\n  if (firstText) {\n    return getTextPreview(firstText)\n  }\n  \n  return ''\n}\n\nfunction handleClickOutside(event: MouseEvent) {\n  if (contextMenu.value.visible) {\n    hideContextMenu()\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>\n\n<style scoped>\n.slide-thumbnails {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--surface);\n}\n\n.thumbnails-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--border);\n}\n\n.thumbnails-header h3 {\n  margin: 0;\n  font-size: var(--font-size-md);\n  color: var(--text-primary);\n}\n\n.thumbnails-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-sm);\n}\n\n.thumbnail-item {\n  margin-bottom: var(--spacing-sm);\n  border: 2px solid transparent;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  background: var(--background);\n}\n\n.thumbnail-item:hover {\n  border-color: var(--border);\n}\n\n.thumbnail-item.active {\n  border-color: var(--primary);\n  background: var(--surface);\n}\n\n.thumbnail-preview {\n  position: relative;\n  width: 100%;\n  height: 90px;\n  background: white;\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\n  overflow: hidden;\n}\n\n.slide-number {\n  position: absolute;\n  top: var(--spacing-xs);\n  left: var(--spacing-xs);\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 2px 6px;\n  border-radius: var(--border-radius);\n  font-size: 10px;\n  font-weight: bold;\n  z-index: 10;\n}\n\n.slide-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.mini-element {\n  border-radius: 2px;\n  overflow: hidden;\n  font-size: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.mini-text {\n  background: rgba(51, 51, 51, 0.1);\n  color: #333;\n  padding: 1px;\n  line-height: 1;\n  font-size: 6px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.mini-image {\n  background: rgba(33, 150, 243, 0.2);\n  color: #1976D2;\n}\n\n.mini-shape {\n  background: rgba(76, 175, 80, 0.2);\n  color: #4CAF50;\n}\n\n.mini-chart {\n  background: rgba(255, 152, 0, 0.2);\n  color: #FF9800;\n}\n\n.mini-table {\n  background: rgba(156, 39, 176, 0.2);\n  color: #9C27B0;\n}\n\n.thumbnail-info {\n  padding: var(--spacing-sm);\n  border-top: 1px solid var(--border-light);\n}\n\n.slide-title {\n  font-size: var(--font-size-xs);\n  font-weight: 500;\n  color: var(--text-primary);\n  margin-bottom: 2px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.element-count {\n  font-size: 10px;\n  color: var(--text-secondary);\n}\n\n/* Context Menu */\n.context-menu {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 16px var(--shadow-dark);\n  padding: var(--spacing-xs);\n  min-width: 120px;\n}\n\n.context-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  width: 100%;\n  padding: var(--spacing-xs) var(--spacing-sm);\n  border: none;\n  background: none;\n  text-align: left;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: background-color var(--transition-fast);\n  font-size: var(--font-size-xs);\n}\n\n.context-item:hover {\n  background: var(--border-light);\n}\n\n.context-separator {\n  height: 1px;\n  background: var(--border);\n  margin: var(--spacing-xs) 0;\n}\n\n/* Scrollbar styling */\n.thumbnails-list::-webkit-scrollbar {\n  width: 4px;\n}\n\n.thumbnails-list::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.thumbnails-list::-webkit-scrollbar-thumb {\n  background: var(--border);\n  border-radius: 2px;\n}\n\n.thumbnails-list::-webkit-scrollbar-thumb:hover {\n  background: var(--text-disabled);\n}\n</style>","<template>\n  <div\n    class=\"element-renderer\"\n    :class=\"{ \n      'selected': selected,\n      'dragging': isDragging,\n      [`element-${element.type}`]: true\n    }\"\n    :style=\"elementStyle\"\n    @mousedown=\"handleMouseDown\"\n    @click=\"handleClick\"\n    @dblclick=\"handleDoubleClick\"\n  >\n    <!-- Text Element -->\n    <div\n      v-if=\"element.type === 'text'\"\n      class=\"text-element\"\n      :style=\"textStyle\"\n      :contenteditable=\"isEditing\"\n      @blur=\"handleTextBlur\"\n      @input=\"handleTextInput\"\n      v-html=\"element.content\"\n    ></div>\n    \n    <!-- Image Element -->\n    <img\n      v-else-if=\"element.type === 'image'\"\n      class=\"image-element\"\n      :src=\"element.src\"\n      :style=\"imageStyle\"\n      @load=\"handleImageLoad\"\n      @error=\"handleImageError\"\n    />\n    \n    <!-- Shape Element -->\n    <svg\n      v-else-if=\"element.type === 'shape'\"\n      class=\"shape-element\"\n      :style=\"shapeStyle\"\n      :viewBox=\"shapeViewBox\"\n    >\n      <path\n        :d=\"shapePath\"\n        :fill=\"element.fill\"\n        :stroke=\"element.stroke\"\n        :stroke-width=\"element.strokeWidth\"\n      />\n    </svg>\n    \n    <!-- Chart Element -->\n    <div\n      v-else-if=\"element.type === 'chart'\"\n      class=\"chart-element\"\n      ref=\"chartContainer\"\n    ></div>\n    \n    <!-- Table Element -->\n    <table\n      v-else-if=\"element.type === 'table'\"\n      class=\"table-element\"\n      :style=\"tableStyle\"\n    >\n      <tr v-for=\"(row, rowIndex) in element.data\" :key=\"rowIndex\">\n        <td\n          v-for=\"(cell, colIndex) in row\"\n          :key=\"colIndex\"\n          :style=\"getCellStyle(rowIndex, colIndex)\"\n          @dblclick=\"editCell(rowIndex, colIndex)\"\n        >\n          {{ cell }}\n        </td>\n      </tr>\n    </table>\n    \n    <!-- Video Element -->\n    <video\n      v-else-if=\"element.type === 'video'\"\n      class=\"video-element\"\n      :src=\"element.src\"\n      :poster=\"element.poster\"\n      :autoplay=\"element.autoplay\"\n      :loop=\"element.loop\"\n      :controls=\"element.controls\"\n      :style=\"videoStyle\"\n    ></video>\n    \n    <!-- Audio Element -->\n    <div\n      v-else-if=\"element.type === 'audio'\"\n      class=\"audio-element\"\n      :style=\"audioStyle\"\n    >\n      <div class=\"audio-icon\" :style=\"{ color: element.iconColor }\">🔊</div>\n      <audio\n        :src=\"element.src\"\n        :autoplay=\"element.autoplay\"\n        :loop=\"element.loop\"\n        controls\n      ></audio>\n    </div>\n    \n    <!-- Selection Handles -->\n    <div v-if=\"selected && !isEditing\" class=\"selection-handles\">\n      <div\n        v-for=\"handle in selectionHandles\"\n        :key=\"handle.position\"\n        :class=\"`handle handle-${handle.position}`\"\n        :style=\"handle.style\"\n        @mousedown=\"handleResizeStart($event, handle.position)\"\n      ></div>\n    </div>\n    \n    <!-- Rotation Handle -->\n    <div\n      v-if=\"selected && !isEditing\"\n      class=\"rotation-handle\"\n      @mousedown=\"handleRotationStart\"\n    >\n      <div class=\"rotation-icon\">↻</div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted, nextTick, watch } from 'vue'\nimport type { PPTElement } from '@/types/slides'\nimport { Chart, registerables } from 'chart.js'\n\nChart.register(...registerables)\n\ninterface Props {\n  element: PPTElement\n  selected: boolean\n  zoom: number\n}\n\ninterface Emits {\n  (e: 'select', elementId: string, multiSelect?: boolean): void\n  (e: 'update', elementId: string, changes: any): void\n  (e: 'delete', elementId: string): void\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst isDragging = ref(false)\nconst isResizing = ref(false)\nconst isRotating = ref(false)\nconst isEditing = ref(false)\nconst dragStart = ref({ x: 0, y: 0, elementX: 0, elementY: 0 })\nconst resizeStart = ref({ x: 0, y: 0, width: 0, height: 0, handle: '' })\nconst rotationStart = ref({ x: 0, y: 0, rotation: 0 })\nconst chartContainer = ref<HTMLElement>()\nconst chartInstance = ref<Chart | null>(null)\n\n// Computed styles\nconst elementStyle = computed(() => ({\n  position: 'absolute',\n  left: `${props.element.left}px`,\n  top: `${props.element.top}px`,\n  width: `${props.element.width}px`,\n  height: `${props.element.height}px`,\n  transform: `rotate(${props.element.rotate}deg)`,\n  zIndex: props.element.zIndex || 1,\n  opacity: props.element.opacity || 1,\n  cursor: isDragging.value ? 'grabbing' : 'grab'\n}))\n\nconst textStyle = computed(() => {\n  if (props.element.type !== 'text') return {}\n  const el = props.element as any\n  return {\n    fontFamily: el.fontFamily || el.defaultFontName,\n    fontSize: `${el.fontSize || 16}px`,\n    color: el.color || el.defaultColor,\n    fontWeight: el.bold ? 'bold' : 'normal',\n    fontStyle: el.italic ? 'italic' : 'normal',\n    textDecoration: el.underline ? 'underline' : 'none',\n    textAlign: el.align || 'left',\n    lineHeight: el.lineHeight || 1.5,\n    padding: '8px',\n    outline: 'none',\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    backgroundColor: el.fill || 'transparent'\n  }\n})\n\nconst imageStyle = computed(() => {\n  if (props.element.type !== 'image') return {}\n  const el = props.element as any\n  return {\n    width: '100%',\n    height: '100%',\n    objectFit: el.fit || 'contain',\n    borderRadius: el.borderRadius ? `${el.borderRadius}px` : '0',\n    filter: el.filter || 'none',\n    transform: `scaleX(${el.flipH ? -1 : 1}) scaleY(${el.flipV ? -1 : 1})`,\n    boxShadow: el.shadow ? '0 4px 8px rgba(0,0,0,0.2)' : 'none'\n  }\n})\n\nconst shapeStyle = computed(() => ({\n  width: '100%',\n  height: '100%'\n}))\n\nconst shapeViewBox = computed(() => {\n  return `0 0 ${props.element.width} ${props.element.height}`\n})\n\nconst shapePath = computed(() => {\n  if (props.element.type !== 'shape') return ''\n  const el = props.element as any\n  \n  switch (el.shape) {\n    case 'rectangle':\n      return `M 0 0 L ${props.element.width} 0 L ${props.element.width} ${props.element.height} L 0 ${props.element.height} Z`\n    case 'circle':\n      const cx = props.element.width / 2\n      const cy = props.element.height / 2\n      const r = Math.min(cx, cy)\n      return `M ${cx} ${cy} m -${r} 0 a ${r} ${r} 0 1 0 ${r * 2} 0 a ${r} ${r} 0 1 0 -${r * 2} 0`\n    case 'triangle':\n      return `M ${props.element.width / 2} 0 L ${props.element.width} ${props.element.height} L 0 ${props.element.height} Z`\n    default:\n      return `M 0 0 L ${props.element.width} 0 L ${props.element.width} ${props.element.height} L 0 ${props.element.height} Z`\n  }\n})\n\nconst tableStyle = computed(() => {\n  if (props.element.type !== 'table') return {}\n  const el = props.element as any\n  return {\n    width: '100%',\n    height: '100%',\n    borderCollapse: 'collapse',\n    border: `${el.style?.borderWidth || 1}px solid ${el.style?.borderColor || '#ddd'}`\n  }\n})\n\nconst videoStyle = computed(() => ({\n  width: '100%',\n  height: '100%',\n  objectFit: 'contain'\n}))\n\nconst audioStyle = computed(() => ({\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  gap: '8px'\n}))\n\nconst selectionHandles = computed(() => [\n  { position: 'nw', style: { top: '-4px', left: '-4px' } },\n  { position: 'n', style: { top: '-4px', left: '50%', transform: 'translateX(-50%)' } },\n  { position: 'ne', style: { top: '-4px', right: '-4px' } },\n  { position: 'e', style: { top: '50%', right: '-4px', transform: 'translateY(-50%)' } },\n  { position: 'se', style: { bottom: '-4px', right: '-4px' } },\n  { position: 's', style: { bottom: '-4px', left: '50%', transform: 'translateX(-50%)' } },\n  { position: 'sw', style: { bottom: '-4px', left: '-4px' } },\n  { position: 'w', style: { top: '50%', left: '-4px', transform: 'translateY(-50%)' } }\n])\n\n// Event handlers\nfunction handleClick(event: MouseEvent) {\n  event.stopPropagation()\n  emit('select', props.element.id, event.ctrlKey || event.metaKey)\n}\n\nfunction handleDoubleClick(event: MouseEvent) {\n  event.stopPropagation()\n  if (props.element.type === 'text') {\n    isEditing.value = true\n    nextTick(() => {\n      const textEl = event.target as HTMLElement\n      textEl.focus()\n    })\n  }\n}\n\nfunction handleMouseDown(event: MouseEvent) {\n  if (isEditing.value) return\n  \n  event.preventDefault()\n  event.stopPropagation()\n  \n  isDragging.value = true\n  dragStart.value = {\n    x: event.clientX,\n    y: event.clientY,\n    elementX: props.element.left,\n    elementY: props.element.top\n  }\n  \n  document.addEventListener('mousemove', handleMouseMove)\n  document.addEventListener('mouseup', handleMouseUp)\n}\n\nfunction handleMouseMove(event: MouseEvent) {\n  if (!isDragging.value && !isResizing.value && !isRotating.value) return\n  \n  if (isDragging.value) {\n    const deltaX = (event.clientX - dragStart.value.x) / props.zoom\n    const deltaY = (event.clientY - dragStart.value.y) / props.zoom\n    \n    emit('update', props.element.id, {\n      left: dragStart.value.elementX + deltaX,\n      top: dragStart.value.elementY + deltaY\n    })\n  } else if (isResizing.value) {\n    handleResize(event)\n  } else if (isRotating.value) {\n    handleRotation(event)\n  }\n}\n\nfunction handleMouseUp() {\n  isDragging.value = false\n  isResizing.value = false\n  isRotating.value = false\n  \n  document.removeEventListener('mousemove', handleMouseMove)\n  document.removeEventListener('mouseup', handleMouseUp)\n}\n\nfunction handleResizeStart(event: MouseEvent, handle: string) {\n  event.stopPropagation()\n  \n  isResizing.value = true\n  resizeStart.value = {\n    x: event.clientX,\n    y: event.clientY,\n    width: props.element.width,\n    height: props.element.height,\n    handle\n  }\n  \n  document.addEventListener('mousemove', handleMouseMove)\n  document.addEventListener('mouseup', handleMouseUp)\n}\n\nfunction handleResize(event: MouseEvent) {\n  const deltaX = (event.clientX - resizeStart.value.x) / props.zoom\n  const deltaY = (event.clientY - resizeStart.value.y) / props.zoom\n  const handle = resizeStart.value.handle\n  \n  let newWidth = resizeStart.value.width\n  let newHeight = resizeStart.value.height\n  let newLeft = props.element.left\n  let newTop = props.element.top\n  \n  // Handle different resize directions\n  if (handle.includes('e')) newWidth += deltaX\n  if (handle.includes('w')) {\n    newWidth -= deltaX\n    newLeft += deltaX\n  }\n  if (handle.includes('s')) newHeight += deltaY\n  if (handle.includes('n')) {\n    newHeight -= deltaY\n    newTop += deltaY\n  }\n  \n  // Minimum size constraints\n  newWidth = Math.max(20, newWidth)\n  newHeight = Math.max(20, newHeight)\n  \n  emit('update', props.element.id, {\n    width: newWidth,\n    height: newHeight,\n    left: newLeft,\n    top: newTop\n  })\n}\n\nfunction handleRotationStart(event: MouseEvent) {\n  event.stopPropagation()\n  \n  isRotating.value = true\n  rotationStart.value = {\n    x: event.clientX,\n    y: event.clientY,\n    rotation: props.element.rotate\n  }\n  \n  document.addEventListener('mousemove', handleMouseMove)\n  document.addEventListener('mouseup', handleMouseUp)\n}\n\nfunction handleRotation(event: MouseEvent) {\n  const centerX = props.element.left + props.element.width / 2\n  const centerY = props.element.top + props.element.height / 2\n  \n  const startAngle = Math.atan2(rotationStart.value.y - centerY, rotationStart.value.x - centerX)\n  const currentAngle = Math.atan2(event.clientY - centerY, event.clientX - centerX)\n  \n  const deltaAngle = (currentAngle - startAngle) * (180 / Math.PI)\n  const newRotation = rotationStart.value.rotation + deltaAngle\n  \n  emit('update', props.element.id, {\n    rotate: newRotation % 360\n  })\n}\n\nfunction handleTextBlur() {\n  isEditing.value = false\n}\n\nfunction handleTextInput(event: Event) {\n  const target = event.target as HTMLElement\n  emit('update', props.element.id, {\n    content: target.innerHTML\n  })\n}\n\nfunction handleImageLoad() {\n  // Image loaded successfully\n}\n\nfunction handleImageError() {\n  console.error('Failed to load image:', props.element.id)\n}\n\nfunction getCellStyle(rowIndex: number, colIndex: number) {\n  if (props.element.type !== 'table') return {}\n  const el = props.element as any\n  \n  const isHeader = rowIndex === 0\n  return {\n    padding: `${el.style?.cellPadding || 8}px`,\n    border: `1px solid ${el.style?.borderColor || '#ddd'}`,\n    backgroundColor: isHeader ? (el.style?.headerBg || '#f5f5f5') : 'transparent',\n    color: isHeader ? (el.style?.headerColor || '#333') : '#333',\n    fontWeight: isHeader ? 'bold' : 'normal'\n  }\n}\n\nfunction editCell(rowIndex: number, colIndex: number) {\n  // This would implement inline cell editing\n  console.log('Edit cell:', rowIndex, colIndex)\n}\n\n// Chart handling\nfunction createChart() {\n  if (props.element.type !== 'chart' || !chartContainer.value) return\n  \n  const el = props.element as any\n  const ctx = chartContainer.value.getContext('2d')\n  \n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n  }\n  \n  chartInstance.value = new Chart(ctx, {\n    type: el.chartType,\n    data: el.data,\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      ...el.options\n    }\n  })\n}\n\n// Watchers\nwatch(() => props.element, () => {\n  if (props.element.type === 'chart') {\n    nextTick(() => {\n      createChart()\n    })\n  }\n}, { deep: true })\n\n// Lifecycle\nonMounted(() => {\n  if (props.element.type === 'chart') {\n    nextTick(() => {\n      createChart()\n    })\n  }\n})\n\nonUnmounted(() => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n  }\n})\n</script>\n\n<style scoped>\n.element-renderer {\n  border: 2px solid transparent;\n  transition: border-color 0.15s ease;\n}\n\n.element-renderer.selected {\n  border-color: var(--primary);\n}\n\n.element-renderer.dragging {\n  cursor: grabbing !important;\n}\n\n.text-element {\n  cursor: text;\n}\n\n.text-element:focus {\n  outline: 2px solid var(--primary);\n  outline-offset: 2px;\n}\n\n.image-element {\n  display: block;\n}\n\n.shape-element {\n  display: block;\n}\n\n.chart-element {\n  width: 100%;\n  height: 100%;\n}\n\n.table-element {\n  font-size: 14px;\n}\n\n.video-element {\n  display: block;\n}\n\n.audio-element .audio-icon {\n  font-size: 24px;\n}\n\n.selection-handles {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n\n.handle {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: var(--primary);\n  border: 1px solid white;\n  border-radius: 50%;\n  pointer-events: all;\n  cursor: pointer;\n}\n\n.handle-nw, .handle-se { cursor: nw-resize; }\n.handle-ne, .handle-sw { cursor: ne-resize; }\n.handle-n, .handle-s { cursor: n-resize; }\n.handle-e, .handle-w { cursor: e-resize; }\n\n.rotation-handle {\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 20px;\n  height: 20px;\n  background: var(--primary);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: grab;\n  color: white;\n  font-size: 12px;\n}\n\n.rotation-handle:hover {\n  background: var(--primary-dark);\n}\n\n.rotation-icon {\n  pointer-events: none;\n}\n</style>","<template>\n  <div\n    class=\"selection-box\"\n    :style=\"boxStyle\"\n  ></div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface Props {\n  box: {\n    x: number\n    y: number\n    width: number\n    height: number\n  }\n}\n\nconst props = defineProps<Props>()\n\nconst boxStyle = computed(() => ({\n  position: 'absolute',\n  left: `${Math.min(props.box.x, props.box.x + props.box.width)}px`,\n  top: `${Math.min(props.box.y, props.box.y + props.box.height)}px`,\n  width: `${Math.abs(props.box.width)}px`,\n  height: `${Math.abs(props.box.height)}px`,\n  border: '1px dashed var(--primary)',\n  backgroundColor: 'rgba(25, 118, 210, 0.1)',\n  pointerEvents: 'none',\n  zIndex: 1000\n}))\n</script>\n\n<style scoped>\n.selection-box {\n  transition: none;\n}\n</style>","<template>\n  <div\n    class=\"context-menu\"\n    :style=\"menuStyle\"\n    @click.stop\n  >\n    <div\n      v-for=\"(item, index) in items\"\n      :key=\"index\"\n      :class=\"[\n        'menu-item',\n        { \n          'separator': item.type === 'separator',\n          'disabled': item.disabled\n        }\n      ]\"\n      @click=\"handleItemClick(item)\"\n    >\n      <template v-if=\"item.type !== 'separator'\">\n        <span class=\"menu-icon\">{{ item.icon }}</span>\n        <span class=\"menu-label\">{{ item.label }}</span>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted } from 'vue'\n\ninterface MenuItem {\n  label?: string\n  action?: string\n  icon?: string\n  type?: 'separator'\n  disabled?: boolean\n}\n\ninterface Props {\n  x: number\n  y: number\n  items: MenuItem[]\n}\n\ninterface Emits {\n  (e: 'select', action: string): void\n  (e: 'close'): void\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst menuStyle = computed(() => ({\n  position: 'fixed',\n  left: `${props.x}px`,\n  top: `${props.y}px`,\n  zIndex: 2000\n}))\n\nfunction handleItemClick(item: MenuItem) {\n  if (item.type === 'separator' || item.disabled) return\n  \n  if (item.action) {\n    emit('select', item.action)\n  }\n  emit('close')\n}\n\nfunction handleClickOutside(event: MouseEvent) {\n  emit('close')\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n  document.addEventListener('contextmenu', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n  document.removeEventListener('contextmenu', handleClickOutside)\n})\n</script>\n\n<style scoped>\n.context-menu {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 8px 32px var(--shadow-dark);\n  padding: var(--spacing-xs);\n  min-width: 180px;\n  font-size: var(--font-size-sm);\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: background-color var(--transition-fast);\n}\n\n.menu-item:hover:not(.disabled):not(.separator) {\n  background-color: var(--border-light);\n}\n\n.menu-item.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.menu-item.separator {\n  height: 1px;\n  background-color: var(--border);\n  margin: var(--spacing-xs) 0;\n  padding: 0;\n  cursor: default;\n}\n\n.menu-icon {\n  width: 16px;\n  text-align: center;\n}\n\n.menu-label {\n  flex: 1;\n}\n</style>","<template>\n  <div\n    class=\"element-toolbar\"\n    :style=\"toolbarStyle\"\n  >\n    <div class=\"toolbar-content\">\n      <!-- Common tools -->\n      <button class=\"tool-btn\" @click=\"bringToFront\" title=\"Bring to Front\">\n        ⬆️\n      </button>\n      <button class=\"tool-btn\" @click=\"sendToBack\" title=\"Send to Back\">\n        ⬇️\n      </button>\n      <div class=\"toolbar-separator\"></div>\n      \n      <!-- Text-specific tools -->\n      <template v-if=\"hasTextElements\">\n        <button \n          class=\"tool-btn\" \n          :class=\"{ active: isBold }\"\n          @click=\"toggleBold\"\n          title=\"Bold\"\n        >\n          <strong>B</strong>\n        </button>\n        <button \n          class=\"tool-btn\"\n          :class=\"{ active: isItalic }\"\n          @click=\"toggleItalic\"\n          title=\"Italic\"\n        >\n          <em>I</em>\n        </button>\n        <button \n          class=\"tool-btn\"\n          :class=\"{ active: isUnderline }\"\n          @click=\"toggleUnderline\"\n          title=\"Underline\"\n        >\n          <u>U</u>\n        </button>\n        <div class=\"toolbar-separator\"></div>\n      </template>\n      \n      <!-- Alignment tools -->\n      <button class=\"tool-btn\" @click=\"alignLeft\" title=\"Align Left\">\n        ⬅️\n      </button>\n      <button class=\"tool-btn\" @click=\"alignCenter\" title=\"Align Center\">\n        ↔️\n      </button>\n      <button class=\"tool-btn\" @click=\"alignRight\" title=\"Align Right\">\n        ➡️\n      </button>\n      <div class=\"toolbar-separator\"></div>\n      \n      <!-- Actions -->\n      <button class=\"tool-btn\" @click=\"duplicateElements\" title=\"Duplicate\">\n        📋\n      </button>\n      <button class=\"tool-btn danger\" @click=\"deleteElements\" title=\"Delete\">\n        🗑️\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { usePresentationStore } from '@/stores'\nimport type { PPTElement } from '@/types/slides'\n\ninterface Props {\n  elements: PPTElement[]\n  position: { x: number; y: number }\n}\n\nconst props = defineProps<Props>()\nconst presentationStore = usePresentationStore()\n\nconst toolbarStyle = computed(() => ({\n  position: 'absolute',\n  left: `${props.position.x}px`,\n  top: `${props.position.y}px`,\n  transform: 'translateX(-50%)',\n  zIndex: 1000\n}))\n\nconst hasTextElements = computed(() => {\n  return props.elements.some(el => el.type === 'text')\n})\n\nconst isBold = computed(() => {\n  return props.elements\n    .filter(el => el.type === 'text')\n    .every(el => (el as any).bold)\n})\n\nconst isItalic = computed(() => {\n  return props.elements\n    .filter(el => el.type === 'text')\n    .every(el => (el as any).italic)\n})\n\nconst isUnderline = computed(() => {\n  return props.elements\n    .filter(el => el.type === 'text')\n    .every(el => (el as any).underline)\n})\n\nasync function toggleBold() {\n  const textElements = props.elements.filter(el => el.type === 'text')\n  const newBold = !isBold.value\n  \n  for (const element of textElements) {\n    await presentationStore.modifyElement(element.id, { bold: newBold })\n  }\n}\n\nasync function toggleItalic() {\n  const textElements = props.elements.filter(el => el.type === 'text')\n  const newItalic = !isItalic.value\n  \n  for (const element of textElements) {\n    await presentationStore.modifyElement(element.id, { italic: newItalic })\n  }\n}\n\nasync function toggleUnderline() {\n  const textElements = props.elements.filter(el => el.type === 'text')\n  const newUnderline = !isUnderline.value\n  \n  for (const element of textElements) {\n    await presentationStore.modifyElement(element.id, { underline: newUnderline })\n  }\n}\n\nasync function alignLeft() {\n  for (const element of props.elements) {\n    if (element.type === 'text') {\n      await presentationStore.modifyElement(element.id, { align: 'left' })\n    }\n  }\n}\n\nasync function alignCenter() {\n  for (const element of props.elements) {\n    if (element.type === 'text') {\n      await presentationStore.modifyElement(element.id, { align: 'center' })\n    }\n  }\n}\n\nasync function alignRight() {\n  for (const element of props.elements) {\n    if (element.type === 'text') {\n      await presentationStore.modifyElement(element.id, { align: 'right' })\n    }\n  }\n}\n\nasync function bringToFront() {\n  const maxZIndex = Math.max(\n    ...presentationStore.currentSlide!.elements.map(el => el.zIndex || 1)\n  )\n  \n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, { zIndex: maxZIndex + 1 })\n  }\n}\n\nasync function sendToBack() {\n  const minZIndex = Math.min(\n    ...presentationStore.currentSlide!.elements.map(el => el.zIndex || 1)\n  )\n  \n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, { zIndex: Math.max(0, minZIndex - 1) })\n  }\n}\n\nasync function duplicateElements() {\n  presentationStore.copyElements(props.elements.map(el => el.id))\n  await presentationStore.pasteElements()\n}\n\nasync function deleteElements() {\n  for (const element of props.elements) {\n    await presentationStore.removeElement(element.id)\n  }\n  presentationStore.clearSelection()\n}\n</script>\n\n<style scoped>\n.element-toolbar {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 4px 16px var(--shadow-dark);\n  padding: var(--spacing-xs);\n}\n\n.toolbar-content {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.tool-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border: none;\n  background: transparent;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  font-size: 14px;\n}\n\n.tool-btn:hover {\n  background: var(--border-light);\n}\n\n.tool-btn.active {\n  background: var(--primary);\n  color: white;\n}\n\n.tool-btn.danger:hover {\n  background: var(--accent);\n  color: white;\n}\n\n.toolbar-separator {\n  width: 1px;\n  height: 20px;\n  background: var(--border);\n  margin: 0 var(--spacing-xs);\n}\n</style>","<template>\n  <div class=\"canvas-editor\" ref=\"canvasContainer\">\n    <!-- Canvas Background -->\n    <div \n      class=\"canvas-background\"\n      :style=\"canvasStyle\"\n      @click=\"handleCanvasClick\"\n      @contextmenu=\"handleContextMenu\"\n    >\n      <!-- Grid -->\n      <div v-if=\"presentationStore.canvas.gridVisible\" class=\"canvas-grid\"></div>\n      \n      <!-- Slide Content -->\n      <div \n        class=\"slide-content\"\n        :style=\"slideStyle\"\n      >\n        <!-- Slide Background -->\n        <div \n          class=\"slide-background\"\n          :style=\"slideBackgroundStyle\"\n        ></div>\n        \n        <!-- Elements -->\n        <ElementRenderer\n          v-for=\"element in currentSlideElements\"\n          :key=\"element.id\"\n          :element=\"element\"\n          :selected=\"isElementSelected(element.id)\"\n          :zoom=\"presentationStore.canvas.zoom\"\n          @select=\"selectElement\"\n          @update=\"updateElement\"\n          @delete=\"deleteElement\"\n        />\n        \n        <!-- Selection Box -->\n        <SelectionBox\n          v-if=\"selectionBox.visible\"\n          :box=\"selectionBox\"\n        />\n      </div>\n    </div>\n    \n    <!-- Context Menu -->\n    <ContextMenu\n      v-if=\"contextMenu.visible\"\n      :x=\"contextMenu.x\"\n      :y=\"contextMenu.y\"\n      :items=\"contextMenuItems\"\n      @select=\"handleContextMenuSelect\"\n      @close=\"closeContextMenu\"\n    />\n    \n    <!-- Element Toolbar -->\n    <ElementToolbar\n      v-if=\"selectedElements.length > 0\"\n      :elements=\"selectedElements\"\n      :position=\"toolbarPosition\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue'\nimport { usePresentationStore, useAIStore } from '@/stores'\nimport type { PPTElement } from '@/types/slides'\nimport ElementRenderer from './ElementRenderer.vue'\nimport SelectionBox from './SelectionBox.vue'\nimport ContextMenu from './ContextMenu.vue'\nimport ElementToolbar from './ElementToolbar.vue'\n\nconst presentationStore = usePresentationStore()\nconst aiStore = useAIStore()\n\nconst canvasContainer = ref<HTMLElement>()\nconst isDragging = ref(false)\nconst dragStart = ref({ x: 0, y: 0 })\nconst selectionBox = ref({\n  visible: false,\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0\n})\nconst contextMenu = ref({\n  visible: false,\n  x: 0,\n  y: 0\n})\n\n// Computed properties\nconst currentSlideElements = computed(() => {\n  return presentationStore.currentSlide?.elements || []\n})\n\nconst selectedElements = computed(() => {\n  return currentSlideElements.value.filter(el => \n    presentationStore.selectedElements.includes(el.id)\n  )\n})\n\nconst canvasStyle = computed(() => ({\n  transform: `scale(${presentationStore.canvas.zoom})`,\n  transformOrigin: 'center center'\n}))\n\nconst slideStyle = computed(() => {\n  const settings = presentationStore.presentation.settings\n  return {\n    width: `${settings.width}px`,\n    height: `${settings.height}px`,\n    transform: `translate(${presentationStore.canvas.offsetX}px, ${presentationStore.canvas.offsetY}px)`\n  }\n})\n\nconst slideBackgroundStyle = computed(() => {\n  const bg = presentationStore.currentSlide?.background\n  if (!bg) return { backgroundColor: '#ffffff' }\n  \n  switch (bg.type) {\n    case 'solid':\n      return { backgroundColor: bg.color }\n    case 'gradient':\n      if (bg.gradient?.type === 'linear') {\n        const colors = bg.gradient.colors.map(c => `${c.color} ${c.pos}%`).join(', ')\n        return {\n          background: `linear-gradient(${bg.gradient.rotate || 0}deg, ${colors})`\n        }\n      }\n      break\n    case 'image':\n      return {\n        backgroundImage: `url(${bg.image?.src})`,\n        backgroundSize: bg.image?.size || 'cover',\n        backgroundPosition: bg.image?.position || 'center'\n      }\n  }\n  return { backgroundColor: '#ffffff' }\n})\n\nconst contextMenuItems = computed(() => [\n  { label: 'Add Text', action: 'add-text', icon: '📝' },\n  { label: 'Add Image', action: 'add-image', icon: '🖼️' },\n  { label: 'Add Shape', action: 'add-shape', icon: '🔷' },\n  { label: 'Add Chart', action: 'add-chart', icon: '📊' },\n  { label: 'Add Table', action: 'add-table', icon: '📋' },\n  { type: 'separator' },\n  { label: 'Paste', action: 'paste', icon: '📋', disabled: presentationStore.clipboard.length === 0 },\n  { type: 'separator' },\n  { label: 'AI Suggestions', action: 'ai-suggestions', icon: '🤖' }\n])\n\nconst toolbarPosition = computed(() => {\n  if (selectedElements.value.length === 0) return { x: 0, y: 0 }\n  \n  const bounds = getElementsBounds(selectedElements.value)\n  return {\n    x: bounds.x + bounds.width / 2,\n    y: bounds.y - 50\n  }\n})\n\n// Event handlers\nfunction handleCanvasClick(event: MouseEvent) {\n  if (event.target === event.currentTarget) {\n    presentationStore.clearSelection()\n    closeContextMenu()\n  }\n}\n\nfunction handleContextMenu(event: MouseEvent) {\n  event.preventDefault()\n  \n  const rect = canvasContainer.value!.getBoundingClientRect()\n  contextMenu.value = {\n    visible: true,\n    x: event.clientX - rect.left,\n    y: event.clientY - rect.top\n  }\n}\n\nfunction closeContextMenu() {\n  contextMenu.value.visible = false\n}\n\nasync function handleContextMenuSelect(action: string) {\n  closeContextMenu()\n  \n  const rect = canvasContainer.value!.getBoundingClientRect()\n  const canvasRect = canvasContainer.value!.querySelector('.slide-content')!.getBoundingClientRect()\n  \n  // Calculate position relative to slide\n  const x = (contextMenu.value.x - (canvasRect.left - rect.left)) / presentationStore.canvas.zoom\n  const y = (contextMenu.value.y - (canvasRect.top - rect.top)) / presentationStore.canvas.zoom\n  \n  switch (action) {\n    case 'add-text':\n      await addTextElement(x, y)\n      break\n    case 'add-image':\n      await addImageElement(x, y)\n      break\n    case 'add-shape':\n      await addShapeElement(x, y)\n      break\n    case 'add-chart':\n      await addChartElement(x, y)\n      break\n    case 'add-table':\n      await addTableElement(x, y)\n      break\n    case 'paste':\n      await presentationStore.pasteElements()\n      break\n    case 'ai-suggestions':\n      await aiStore.generateSuggestions(presentationStore.canvas.activeSlide)\n      break\n  }\n}\n\nfunction selectElement(elementId: string, multiSelect = false) {\n  if (multiSelect) {\n    presentationStore.toggleElementSelection(elementId)\n  } else {\n    presentationStore.selectElements([elementId])\n  }\n}\n\nfunction isElementSelected(elementId: string): boolean {\n  return presentationStore.selectedElements.includes(elementId)\n}\n\nasync function updateElement(elementId: string, changes: any) {\n  await presentationStore.modifyElement(elementId, changes)\n}\n\nasync function deleteElement(elementId: string) {\n  await presentationStore.removeElement(elementId)\n  presentationStore.clearSelection()\n}\n\n// Element creation helpers\nasync function addTextElement(x: number, y: number) {\n  await presentationStore.addText(presentationStore.canvas.activeSlide, {\n    content: 'Click to edit text',\n    x: x - 100,\n    y: y - 25,\n    width: 200,\n    height: 50,\n    fontSize: 16,\n    color: '#333333'\n  })\n}\n\nasync function addImageElement(x: number, y: number) {\n  // This would typically open a file picker\n  const src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iI2Y1ZjVmNSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiPkltYWdlIFBsYWNlaG9sZGVyPC90ZXh0Pjwvc3ZnPg=='\n  \n  await presentationStore.addImage(presentationStore.canvas.activeSlide, {\n    src,\n    x: x - 100,\n    y: y - 75,\n    width: 200,\n    height: 150\n  })\n}\n\nasync function addShapeElement(x: number, y: number) {\n  await presentationStore.addShape(presentationStore.canvas.activeSlide, {\n    shape: 'rectangle',\n    x: x - 50,\n    y: y - 25,\n    width: 100,\n    height: 50,\n    fill: '#1976D2',\n    stroke: '#1565C0',\n    strokeWidth: 2\n  })\n}\n\nasync function addChartElement(x: number, y: number) {\n  await presentationStore.addChart(presentationStore.canvas.activeSlide, {\n    chartType: 'bar',\n    data: {\n      labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n      datasets: [{\n        label: 'Revenue',\n        data: [30, 45, 60, 80],\n        backgroundColor: '#1976D2'\n      }]\n    },\n    x: x - 150,\n    y: y - 100,\n    width: 300,\n    height: 200\n  })\n}\n\nasync function addTableElement(x: number, y: number) {\n  await presentationStore.addTable(presentationStore.canvas.activeSlide, {\n    rows: 3,\n    columns: 3,\n    data: [\n      ['Header 1', 'Header 2', 'Header 3'],\n      ['Row 1 Col 1', 'Row 1 Col 2', 'Row 1 Col 3'],\n      ['Row 2 Col 1', 'Row 2 Col 2', 'Row 2 Col 3']\n    ],\n    x: x - 150,\n    y: y - 75,\n    width: 300,\n    height: 150\n  })\n}\n\n// Utility functions\nfunction getElementsBounds(elements: PPTElement[]) {\n  if (elements.length === 0) return { x: 0, y: 0, width: 0, height: 0 }\n  \n  let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity\n  \n  for (const element of elements) {\n    minX = Math.min(minX, element.left)\n    minY = Math.min(minY, element.top)\n    maxX = Math.max(maxX, element.left + element.width)\n    maxY = Math.max(maxY, element.top + element.height)\n  }\n  \n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  }\n}\n\n// Keyboard shortcuts\nfunction handleKeydown(event: KeyboardEvent) {\n  if (event.target !== document.body) return\n  \n  switch (event.key) {\n    case 'Delete':\n    case 'Backspace':\n      if (presentationStore.selectedElements.length > 0) {\n        event.preventDefault()\n        presentationStore.selectedElements.forEach(id => {\n          deleteElement(id)\n        })\n      }\n      break\n  }\n}\n\n// Lifecycle\nonMounted(() => {\n  document.addEventListener('keydown', handleKeydown)\n  \n  // Initialize canvas position\n  nextTick(() => {\n    centerCanvas()\n  })\n})\n\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleKeydown)\n})\n\nfunction centerCanvas() {\n  if (!canvasContainer.value) return\n  \n  const container = canvasContainer.value\n  const containerRect = container.getBoundingClientRect()\n  const settings = presentationStore.presentation.settings\n  \n  const offsetX = (containerRect.width - settings.width * presentationStore.canvas.zoom) / 2\n  const offsetY = (containerRect.height - settings.height * presentationStore.canvas.zoom) / 2\n  \n  presentationStore.setCanvasOffset(offsetX, offsetY)\n}\n</script>\n\n<style scoped>\n.canvas-editor {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  background: \n    radial-gradient(circle at 20px 20px, #e0e0e0 1px, transparent 1px),\n    radial-gradient(circle at 60px 60px, #e0e0e0 1px, transparent 1px);\n  background-size: 40px 40px;\n  background-position: 0 0, 20px 20px;\n}\n\n.canvas-background {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: default;\n  position: relative;\n}\n\n.canvas-grid {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: \n    linear-gradient(to right, rgba(0,0,0,0.1) 1px, transparent 1px),\n    linear-gradient(to bottom, rgba(0,0,0,0.1) 1px, transparent 1px);\n  background-size: 20px 20px;\n  pointer-events: none;\n}\n\n.slide-content {\n  position: relative;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n  border-radius: 4px;\n  overflow: hidden;\n  background: white;\n}\n\n.slide-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 0;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .canvas-editor {\n    background-size: 20px 20px;\n    background-position: 0 0, 10px 10px;\n  }\n}\n</style>","<template>\n  <div class=\"element-properties\">\n    <div class=\"property-section\">\n      <h4>{{ getElementTypeName(element.type) }}</h4>\n      \n      <!-- Position & Size -->\n      <div class=\"property-group\">\n        <label>Position & Size</label>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>X</label>\n            <input \n              type=\"number\" \n              :value=\"Math.round(element.left)\"\n              @input=\"updateProperty('left', Number($event.target.value))\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Y</label>\n            <input \n              type=\"number\" \n              :value=\"Math.round(element.top)\"\n              @input=\"updateProperty('top', Number($event.target.value))\"\n            />\n          </div>\n        </div>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Width</label>\n            <input \n              type=\"number\" \n              :value=\"Math.round(element.width)\"\n              @input=\"updateProperty('width', Number($event.target.value))\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Height</label>\n            <input \n              type=\"number\" \n              :value=\"Math.round(element.height)\"\n              @input=\"updateProperty('height', Number($event.target.value))\"\n            />\n          </div>\n        </div>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Rotation</label>\n            <input \n              type=\"number\" \n              :value=\"Math.round(element.rotate)\"\n              @input=\"updateProperty('rotate', Number($event.target.value))\"\n              min=\"0\"\n              max=\"360\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Opacity</label>\n            <input \n              type=\"range\" \n              :value=\"(element.opacity || 1) * 100\"\n              @input=\"updateProperty('opacity', Number($event.target.value) / 100)\"\n              min=\"0\"\n              max=\"100\"\n            />\n          </div>\n        </div>\n      </div>\n      \n      <!-- Text Properties -->\n      <div v-if=\"element.type === 'text'\" class=\"property-group\">\n        <label>Text</label>\n        <textarea \n          :value=\"getTextContent(element)\"\n          @input=\"updateProperty('content', $event.target.value)\"\n          rows=\"3\"\n        ></textarea>\n        \n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Font Size</label>\n            <input \n              type=\"number\" \n              :value=\"element.fontSize || 16\"\n              @input=\"updateProperty('fontSize', Number($event.target.value))\"\n              min=\"8\"\n              max=\"72\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Font Family</label>\n            <select \n              :value=\"element.fontFamily || 'Arial'\"\n              @change=\"updateProperty('fontFamily', $event.target.value)\"\n            >\n              <option value=\"Arial\">Arial</option>\n              <option value=\"Helvetica\">Helvetica</option>\n              <option value=\"Times New Roman\">Times New Roman</option>\n              <option value=\"Georgia\">Georgia</option>\n              <option value=\"Verdana\">Verdana</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Color</label>\n            <input \n              type=\"color\" \n              :value=\"element.color || element.defaultColor\"\n              @input=\"updateProperty('color', $event.target.value)\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Align</label>\n            <select \n              :value=\"element.align || 'left'\"\n              @change=\"updateProperty('align', $event.target.value)\"\n            >\n              <option value=\"left\">Left</option>\n              <option value=\"center\">Center</option>\n              <option value=\"right\">Right</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"checkbox-row\">\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.bold || false\"\n              @change=\"updateProperty('bold', $event.target.checked)\"\n            />\n            Bold\n          </label>\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.italic || false\"\n              @change=\"updateProperty('italic', $event.target.checked)\"\n            />\n            Italic\n          </label>\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.underline || false\"\n              @change=\"updateProperty('underline', $event.target.checked)\"\n            />\n            Underline\n          </label>\n        </div>\n      </div>\n      \n      <!-- Image Properties -->\n      <div v-if=\"element.type === 'image'\" class=\"property-group\">\n        <label>Image</label>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Fit</label>\n            <select \n              :value=\"element.fit || 'contain'\"\n              @change=\"updateProperty('fit', $event.target.value)\"\n            >\n              <option value=\"contain\">Contain</option>\n              <option value=\"cover\">Cover</option>\n              <option value=\"fill\">Fill</option>\n            </select>\n          </div>\n          <div class=\"input-group\">\n            <label>Border Radius</label>\n            <input \n              type=\"number\" \n              :value=\"element.borderRadius || 0\"\n              @input=\"updateProperty('borderRadius', Number($event.target.value))\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n        \n        <div class=\"checkbox-row\">\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.shadow || false\"\n              @change=\"updateProperty('shadow', $event.target.checked)\"\n            />\n            Shadow\n          </label>\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.flipH || false\"\n              @change=\"updateProperty('flipH', $event.target.checked)\"\n            />\n            Flip H\n          </label>\n          <label class=\"checkbox-label\">\n            <input \n              type=\"checkbox\" \n              :checked=\"element.flipV || false\"\n              @change=\"updateProperty('flipV', $event.target.checked)\"\n            />\n            Flip V\n          </label>\n        </div>\n      </div>\n      \n      <!-- Shape Properties -->\n      <div v-if=\"element.type === 'shape'\" class=\"property-group\">\n        <label>Shape</label>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Fill</label>\n            <input \n              type=\"color\" \n              :value=\"element.fill || '#4CAF50'\"\n              @input=\"updateProperty('fill', $event.target.value)\"\n            />\n          </div>\n          <div class=\"input-group\">\n            <label>Stroke</label>\n            <input \n              type=\"color\" \n              :value=\"element.stroke || '#2E7D32'\"\n              @input=\"updateProperty('stroke', $event.target.value)\"\n            />\n          </div>\n        </div>\n        \n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Stroke Width</label>\n            <input \n              type=\"number\" \n              :value=\"element.strokeWidth || 2\"\n              @input=\"updateProperty('strokeWidth', Number($event.target.value))\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n      </div>\n      \n      <!-- Chart Properties -->\n      <div v-if=\"element.type === 'chart'\" class=\"property-group\">\n        <label>Chart</label>\n        <div class=\"input-row\">\n          <div class=\"input-group\">\n            <label>Type</label>\n            <select \n              :value=\"element.chartType\"\n              @change=\"updateProperty('chartType', $event.target.value)\"\n            >\n              <option value=\"bar\">Bar</option>\n              <option value=\"line\">Line</option>\n              <option value=\"pie\">Pie</option>\n              <option value=\"doughnut\">Doughnut</option>\n              <option value=\"scatter\">Scatter</option>\n              <option value=\"area\">Area</option>\n            </select>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Layer Controls -->\n      <div class=\"property-group\">\n        <label>Layer</label>\n        <div class=\"button-row\">\n          <button class=\"btn btn-sm\" @click=\"bringToFront\">\n            ⬆️ Front\n          </button>\n          <button class=\"btn btn-sm\" @click=\"sendToBack\">\n            ⬇️ Back\n          </button>\n          <button class=\"btn btn-sm\" @click=\"bringForward\">\n            ↑ Forward\n          </button>\n          <button class=\"btn btn-sm\" @click=\"sendBackward\">\n            ↓ Backward\n          </button>\n        </div>\n      </div>\n      \n      <!-- Actions -->\n      <div class=\"property-group\">\n        <label>Actions</label>\n        <div class=\"button-row\">\n          <button class=\"btn btn-sm\" @click=\"duplicateElement\">\n            📋 Duplicate\n          </button>\n          <button class=\"btn btn-sm btn-danger\" @click=\"deleteElement\">\n            🗑️ Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { usePresentationStore } from '@/stores'\nimport type { PPTElement } from '@/types/slides'\n\ninterface Props {\n  element: PPTElement\n}\n\nconst props = defineProps<Props>()\nconst presentationStore = usePresentationStore()\n\nasync function updateProperty(property: string, value: any) {\n  await presentationStore.modifyElement(props.element.id, {\n    [property]: value\n  })\n}\n\nfunction getElementTypeName(type: string): string {\n  const typeNames = {\n    text: 'Text',\n    image: 'Image',\n    shape: 'Shape',\n    chart: 'Chart',\n    table: 'Table',\n    video: 'Video',\n    audio: 'Audio'\n  }\n  return typeNames[type as keyof typeof typeNames] || type\n}\n\nfunction getTextContent(element: any): string {\n  if (element.type !== 'text') return ''\n  // Strip HTML tags for editing\n  return element.content.replace(/<[^>]*>/g, '')\n}\n\nasync function bringToFront() {\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return\n  \n  const maxZIndex = Math.max(\n    ...currentSlide.elements.map(el => el.zIndex || 1)\n  )\n  \n  await updateProperty('zIndex', maxZIndex + 1)\n}\n\nasync function sendToBack() {\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return\n  \n  const minZIndex = Math.min(\n    ...currentSlide.elements.map(el => el.zIndex || 1)\n  )\n  \n  await updateProperty('zIndex', Math.max(0, minZIndex - 1))\n}\n\nasync function bringForward() {\n  const currentZIndex = props.element.zIndex || 1\n  await updateProperty('zIndex', currentZIndex + 1)\n}\n\nasync function sendBackward() {\n  const currentZIndex = props.element.zIndex || 1\n  await updateProperty('zIndex', Math.max(0, currentZIndex - 1))\n}\n\nasync function duplicateElement() {\n  presentationStore.copyElements([props.element.id])\n  await presentationStore.pasteElements()\n}\n\nasync function deleteElement() {\n  if (confirm('Delete this element?')) {\n    await presentationStore.removeElement(props.element.id)\n    presentationStore.clearSelection()\n  }\n}\n</script>\n\n<style scoped>\n.element-properties {\n  font-size: var(--font-size-sm);\n}\n\n.property-section h4 {\n  margin: 0 0 var(--spacing-md) 0;\n  font-size: var(--font-size-md);\n  color: var(--text-primary);\n  padding-bottom: var(--spacing-sm);\n  border-bottom: 1px solid var(--border);\n}\n\n.property-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.property-group > label {\n  display: block;\n  margin-bottom: var(--spacing-sm);\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.input-row {\n  display: flex;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-sm);\n}\n\n.input-group {\n  flex: 1;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: var(--spacing-xs);\n  font-size: var(--font-size-xs);\n  color: var(--text-secondary);\n}\n\n.input-group input,\n.input-group select,\n.input-group textarea {\n  width: 100%;\n  padding: var(--spacing-xs);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-xs);\n}\n\n.input-group input[type=\"color\"] {\n  height: 32px;\n  padding: 2px;\n}\n\n.input-group input[type=\"range\"] {\n  padding: 0;\n}\n\n.checkbox-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--spacing-sm);\n  margin-top: var(--spacing-sm);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  font-size: var(--font-size-xs);\n  cursor: pointer;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: auto;\n  margin: 0;\n}\n\n.button-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--spacing-xs);\n}\n\n.btn-danger {\n  background: var(--accent);\n  color: white;\n  border-color: var(--accent);\n}\n\n.btn-danger:hover {\n  background: #D32F2F;\n  border-color: #D32F2F;\n}\n\ntextarea {\n  resize: vertical;\n  min-height: 60px;\n}\n</style>","<template>\n  <div class=\"multi-element-properties\">\n    <!-- Alignment Tools -->\n    <div class=\"property-group\">\n      <label>Alignment</label>\n      <div class=\"alignment-grid\">\n        <button class=\"align-btn\" @click=\"alignElements('left')\" title=\"Align Left\">\n          ⬅️\n        </button>\n        <button class=\"align-btn\" @click=\"alignElements('center-h')\" title=\"Align Center\">\n          ↔️\n        </button>\n        <button class=\"align-btn\" @click=\"alignElements('right')\" title=\"Align Right\">\n          ➡️\n        </button>\n        <button class=\"align-btn\" @click=\"alignElements('top')\" title=\"Align Top\">\n          ⬆️\n        </button>\n        <button class=\"align-btn\" @click=\"alignElements('center-v')\" title=\"Align Middle\">\n          ↕️\n        </button>\n        <button class=\"align-btn\" @click=\"alignElements('bottom')\" title=\"Align Bottom\">\n          ⬇️\n        </button>\n      </div>\n    </div>\n\n    <!-- Distribution -->\n    <div class=\"property-group\">\n      <label>Distribution</label>\n      <div class=\"button-row\">\n        <button class=\"btn btn-sm\" @click=\"distributeElements('horizontal')\">\n          ↔️ Horizontal\n        </button>\n        <button class=\"btn btn-sm\" @click=\"distributeElements('vertical')\">\n          ↕️ Vertical\n        </button>\n      </div>\n    </div>\n\n    <!-- Spacing -->\n    <div class=\"property-group\">\n      <label>Spacing</label>\n      <div class=\"input-row\">\n        <div class=\"input-group\">\n          <label>Horizontal</label>\n          <input \n            type=\"number\" \n            v-model=\"spacing.horizontal\"\n            @change=\"applySpacing\"\n            min=\"0\"\n          />\n        </div>\n        <div class=\"input-group\">\n          <label>Vertical</label>\n          <input \n            type=\"number\" \n            v-model=\"spacing.vertical\"\n            @change=\"applySpacing\"\n            min=\"0\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- Common Properties -->\n    <div class=\"property-group\">\n      <label>Common Properties</label>\n      \n      <!-- Opacity -->\n      <div class=\"input-row\">\n        <div class=\"input-group\">\n          <label>Opacity</label>\n          <input \n            type=\"range\" \n            :value=\"commonOpacity * 100\"\n            @input=\"updateCommonProperty('opacity', Number($event.target.value) / 100)\"\n            min=\"0\"\n            max=\"100\"\n          />\n        </div>\n      </div>\n\n      <!-- Rotation -->\n      <div class=\"input-row\">\n        <div class=\"input-group\">\n          <label>Rotation</label>\n          <input \n            type=\"number\" \n            :value=\"commonRotation\"\n            @input=\"updateCommonProperty('rotate', Number($event.target.value))\"\n            min=\"0\"\n            max=\"360\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- Text Properties (if all selected elements are text) -->\n    <div v-if=\"allElementsAreText\" class=\"property-group\">\n      <label>Text Properties</label>\n      \n      <div class=\"input-row\">\n        <div class=\"input-group\">\n          <label>Font Size</label>\n          <input \n            type=\"number\" \n            :value=\"commonFontSize\"\n            @input=\"updateCommonProperty('fontSize', Number($event.target.value))\"\n            min=\"8\"\n            max=\"72\"\n          />\n        </div>\n        <div class=\"input-group\">\n          <label>Color</label>\n          <input \n            type=\"color\" \n            :value=\"commonColor\"\n            @input=\"updateCommonProperty('color', $event.target.value)\"\n          />\n        </div>\n      </div>\n\n      <div class=\"checkbox-row\">\n        <label class=\"checkbox-label\">\n          <input \n            type=\"checkbox\" \n            :checked=\"commonBold\"\n            @change=\"updateCommonProperty('bold', $event.target.checked)\"\n          />\n          Bold\n        </label>\n        <label class=\"checkbox-label\">\n          <input \n            type=\"checkbox\" \n            :checked=\"commonItalic\"\n            @change=\"updateCommonProperty('italic', $event.target.checked)\"\n          />\n          Italic\n        </label>\n      </div>\n    </div>\n\n    <!-- Layer Controls -->\n    <div class=\"property-group\">\n      <label>Layer</label>\n      <div class=\"button-row\">\n        <button class=\"btn btn-sm\" @click=\"bringToFront\">\n          ⬆️ Front\n        </button>\n        <button class=\"btn btn-sm\" @click=\"sendToBack\">\n          ⬇️ Back\n        </button>\n      </div>\n    </div>\n\n    <!-- Group Controls -->\n    <div class=\"property-group\">\n      <label>Group</label>\n      <div class=\"button-row\">\n        <button class=\"btn btn-sm\" @click=\"groupElements\">\n          🔗 Group\n        </button>\n        <button class=\"btn btn-sm\" @click=\"ungroupElements\">\n          🔓 Ungroup\n        </button>\n      </div>\n    </div>\n\n    <!-- Actions -->\n    <div class=\"property-group\">\n      <label>Actions</label>\n      <div class=\"button-row\">\n        <button class=\"btn btn-sm\" @click=\"duplicateElements\">\n          📋 Duplicate\n        </button>\n        <button class=\"btn btn-sm btn-danger\" @click=\"deleteElements\">\n          🗑️ Delete\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { usePresentationStore } from '@/stores'\nimport type { PPTElement } from '@/types/slides'\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface Props {\n  elements: PPTElement[]\n}\n\nconst props = defineProps<Props>()\nconst presentationStore = usePresentationStore()\n\nconst spacing = ref({\n  horizontal: 20,\n  vertical: 20\n})\n\n// Computed properties for common values\nconst allElementsAreText = computed(() => {\n  return props.elements.every(el => el.type === 'text')\n})\n\nconst commonOpacity = computed(() => {\n  const opacities = props.elements.map(el => el.opacity || 1)\n  return opacities.every(o => o === opacities[0]) ? opacities[0] : 1\n})\n\nconst commonRotation = computed(() => {\n  const rotations = props.elements.map(el => el.rotate)\n  return rotations.every(r => r === rotations[0]) ? rotations[0] : 0\n})\n\nconst commonFontSize = computed(() => {\n  if (!allElementsAreText.value) return 16\n  const fontSizes = props.elements.map(el => (el as any).fontSize || 16)\n  return fontSizes.every(s => s === fontSizes[0]) ? fontSizes[0] : 16\n})\n\nconst commonColor = computed(() => {\n  if (!allElementsAreText.value) return '#333333'\n  const colors = props.elements.map(el => (el as any).color || (el as any).defaultColor)\n  return colors.every(c => c === colors[0]) ? colors[0] : '#333333'\n})\n\nconst commonBold = computed(() => {\n  if (!allElementsAreText.value) return false\n  const bolds = props.elements.map(el => (el as any).bold || false)\n  return bolds.every(b => b === bolds[0]) ? bolds[0] : false\n})\n\nconst commonItalic = computed(() => {\n  if (!allElementsAreText.value) return false\n  const italics = props.elements.map(el => (el as any).italic || false)\n  return italics.every(i => i === italics[0]) ? italics[0] : false\n})\n\n// Alignment functions\nasync function alignElements(alignment: string) {\n  const bounds = getElementsBounds()\n  \n  for (const element of props.elements) {\n    let newLeft = element.left\n    let newTop = element.top\n    \n    switch (alignment) {\n      case 'left':\n        newLeft = bounds.left\n        break\n      case 'center-h':\n        newLeft = bounds.left + (bounds.width - element.width) / 2\n        break\n      case 'right':\n        newLeft = bounds.left + bounds.width - element.width\n        break\n      case 'top':\n        newTop = bounds.top\n        break\n      case 'center-v':\n        newTop = bounds.top + (bounds.height - element.height) / 2\n        break\n      case 'bottom':\n        newTop = bounds.top + bounds.height - element.height\n        break\n    }\n    \n    await presentationStore.modifyElement(element.id, {\n      left: newLeft,\n      top: newTop\n    })\n  }\n}\n\nasync function distributeElements(direction: 'horizontal' | 'vertical') {\n  if (props.elements.length < 3) return\n  \n  const sortedElements = [...props.elements].sort((a, b) => {\n    return direction === 'horizontal' ? a.left - b.left : a.top - b.top\n  })\n  \n  const first = sortedElements[0]\n  const last = sortedElements[sortedElements.length - 1]\n  \n  const totalSpace = direction === 'horizontal' \n    ? (last.left + last.width) - first.left\n    : (last.top + last.height) - first.top\n  \n  const totalElementSize = sortedElements.reduce((sum, el) => {\n    return sum + (direction === 'horizontal' ? el.width : el.height)\n  }, 0)\n  \n  const spacing = (totalSpace - totalElementSize) / (sortedElements.length - 1)\n  \n  let currentPos = direction === 'horizontal' ? first.left : first.top\n  \n  for (let i = 1; i < sortedElements.length - 1; i++) {\n    const element = sortedElements[i]\n    const prevElement = sortedElements[i - 1]\n    \n    currentPos += (direction === 'horizontal' ? prevElement.width : prevElement.height) + spacing\n    \n    await presentationStore.modifyElement(element.id, {\n      [direction === 'horizontal' ? 'left' : 'top']: currentPos\n    })\n  }\n}\n\nasync function applySpacing() {\n  // Apply uniform spacing between elements\n  const sortedElements = [...props.elements].sort((a, b) => a.left - b.left)\n  \n  for (let i = 1; i < sortedElements.length; i++) {\n    const prevElement = sortedElements[i - 1]\n    const currentElement = sortedElements[i]\n    \n    await presentationStore.modifyElement(currentElement.id, {\n      left: prevElement.left + prevElement.width + spacing.value.horizontal,\n      top: prevElement.top + spacing.value.vertical\n    })\n  }\n}\n\nasync function updateCommonProperty(property: string, value: any) {\n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, {\n      [property]: value\n    })\n  }\n}\n\nasync function bringToFront() {\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return\n  \n  const maxZIndex = Math.max(\n    ...currentSlide.elements.map(el => el.zIndex || 1)\n  )\n  \n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, {\n      zIndex: maxZIndex + 1\n    })\n  }\n}\n\nasync function sendToBack() {\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return\n  \n  const minZIndex = Math.min(\n    ...currentSlide.elements.map(el => el.zIndex || 1)\n  )\n  \n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, {\n      zIndex: Math.max(0, minZIndex - 1)\n    })\n  }\n}\n\nasync function groupElements() {\n  const groupId = uuidv4()\n  \n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, {\n      groupId\n    })\n  }\n}\n\nasync function ungroupElements() {\n  for (const element of props.elements) {\n    await presentationStore.modifyElement(element.id, {\n      groupId: undefined\n    })\n  }\n}\n\nasync function duplicateElements() {\n  presentationStore.copyElements(props.elements.map(el => el.id))\n  await presentationStore.pasteElements()\n}\n\nasync function deleteElements() {\n  if (confirm(`Delete ${props.elements.length} elements?`)) {\n    for (const element of props.elements) {\n      await presentationStore.removeElement(element.id)\n    }\n    presentationStore.clearSelection()\n  }\n}\n\nfunction getElementsBounds() {\n  let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity\n  \n  for (const element of props.elements) {\n    minX = Math.min(minX, element.left)\n    minY = Math.min(minY, element.top)\n    maxX = Math.max(maxX, element.left + element.width)\n    maxY = Math.max(maxY, element.top + element.height)\n  }\n  \n  return {\n    left: minX,\n    top: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  }\n}\n</script>\n\n<style scoped>\n.multi-element-properties {\n  font-size: var(--font-size-sm);\n}\n\n.property-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.property-group > label {\n  display: block;\n  margin-bottom: var(--spacing-sm);\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.alignment-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: var(--spacing-xs);\n  margin-bottom: var(--spacing-sm);\n}\n\n.align-btn {\n  aspect-ratio: 1;\n  border: 1px solid var(--border);\n  background: var(--surface);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.align-btn:hover {\n  background: var(--primary);\n  color: white;\n  border-color: var(--primary);\n}\n\n.input-row {\n  display: flex;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-sm);\n}\n\n.input-group {\n  flex: 1;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: var(--spacing-xs);\n  font-size: var(--font-size-xs);\n  color: var(--text-secondary);\n}\n\n.input-group input,\n.input-group select {\n  width: 100%;\n  padding: var(--spacing-xs);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-xs);\n}\n\n.input-group input[type=\"color\"] {\n  height: 32px;\n  padding: 2px;\n}\n\n.input-group input[type=\"range\"] {\n  padding: 0;\n}\n\n.checkbox-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--spacing-sm);\n  margin-top: var(--spacing-sm);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  font-size: var(--font-size-xs);\n  cursor: pointer;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: auto;\n  margin: 0;\n}\n\n.button-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--spacing-xs);\n}\n\n.btn-danger {\n  background: var(--accent);\n  color: white;\n  border-color: var(--accent);\n}\n\n.btn-danger:hover {\n  background: #D32F2F;\n  border-color: #D32F2F;\n}\n</style>","<template>\n  <div class=\"property-panel\">\n    <div class=\"panel-header\">\n      <h3>Properties</h3>\n    </div>\n    \n    <div class=\"panel-content\">\n      <!-- No selection state -->\n      <div v-if=\"selectedElements.length === 0\" class=\"no-selection\">\n        <div class=\"no-selection-icon\">🎯</div>\n        <p>Select an element to edit its properties</p>\n      </div>\n      \n      <!-- Single element selected -->\n      <div v-else-if=\"selectedElements.length === 1\" class=\"single-element\">\n        <ElementProperties :element=\"selectedElements[0]\" />\n      </div>\n      \n      <!-- Multiple elements selected -->\n      <div v-else class=\"multiple-elements\">\n        <div class=\"selection-info\">\n          <strong>{{ selectedElements.length }} elements selected</strong>\n        </div>\n        <MultiElementProperties :elements=\"selectedElements\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { usePresentationStore } from '@/stores'\nimport ElementProperties from './ElementProperties.vue'\nimport MultiElementProperties from './MultiElementProperties.vue'\n\nconst presentationStore = usePresentationStore()\n\nconst selectedElements = computed(() => {\n  const currentSlide = presentationStore.currentSlide\n  if (!currentSlide) return []\n  \n  return currentSlide.elements.filter(el => \n    presentationStore.selectedElements.includes(el.id)\n  )\n})\n</script>\n\n<style scoped>\n.property-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--surface);\n}\n\n.panel-header {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--border);\n}\n\n.panel-header h3 {\n  margin: 0;\n  font-size: var(--font-size-md);\n  color: var(--text-primary);\n}\n\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-md);\n}\n\n.no-selection {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  text-align: center;\n  color: var(--text-secondary);\n}\n\n.no-selection-icon {\n  font-size: 48px;\n  margin-bottom: var(--spacing-md);\n  opacity: 0.5;\n}\n\n.no-selection p {\n  margin: 0;\n  font-size: var(--font-size-sm);\n}\n\n.selection-info {\n  margin-bottom: var(--spacing-lg);\n  padding: var(--spacing-sm);\n  background: var(--border-light);\n  border-radius: var(--border-radius);\n  text-align: center;\n  font-size: var(--font-size-sm);\n}\n\n/* Scrollbar styling */\n.panel-content::-webkit-scrollbar {\n  width: 4px;\n}\n\n.panel-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.panel-content::-webkit-scrollbar-thumb {\n  background: var(--border);\n  border-radius: 2px;\n}\n\n.panel-content::-webkit-scrollbar-thumb:hover {\n  background: var(--text-disabled);\n}\n</style>","<template>\n  <div class=\"ai-suggestions-overlay\">\n    <div class=\"suggestions-container\">\n      <div class=\"suggestions-header\">\n        <h3>🤖 AI Suggestions</h3>\n        <button class=\"close-btn\" @click=\"aiStore.clearSuggestions()\">×</button>\n      </div>\n      \n      <div class=\"suggestions-content\">\n        <div\n          v-for=\"(suggestion, index) in aiStore.aiSuggestions\"\n          :key=\"index\"\n          class=\"suggestion-card\"\n          @click=\"applySuggestion(suggestion)\"\n        >\n          <div class=\"suggestion-icon\">\n            {{ getSuggestionIcon(suggestion) }}\n          </div>\n          <div class=\"suggestion-details\">\n            <div class=\"suggestion-title\">\n              {{ getSuggestionTitle(suggestion) }}\n            </div>\n            <div class=\"suggestion-description\">\n              {{ getSuggestionDescription(suggestion) }}\n            </div>\n            <div class=\"suggestion-confidence\">\n              Confidence: {{ Math.round((suggestion as any).confidence * 100) || 85 }}%\n            </div>\n          </div>\n          <div class=\"suggestion-actions\">\n            <button \n              class=\"action-btn apply-btn\"\n              @click.stop=\"applySuggestion(suggestion)\"\n            >\n              Apply\n            </button>\n            <button \n              class=\"action-btn dismiss-btn\"\n              @click.stop=\"dismissSuggestion(index)\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"suggestions-footer\">\n        <button class=\"btn btn-ghost btn-sm\" @click=\"aiStore.clearSuggestions()\">\n          Dismiss All\n        </button>\n        <button class=\"btn btn-primary btn-sm\" @click=\"generateMore\">\n          Generate More\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAIStore, usePresentationStore } from '@/stores'\nimport type { AtomicOperationData } from '@/types/atoms'\n\nconst aiStore = useAIStore()\nconst presentationStore = usePresentationStore()\n\nasync function applySuggestion(suggestion: AtomicOperationData) {\n  try {\n    await aiStore.executeAISuggestion(suggestion)\n  } catch (error) {\n    console.error('Failed to apply suggestion:', error)\n  }\n}\n\nfunction dismissSuggestion(index: number) {\n  aiStore.aiSuggestions.splice(index, 1)\n}\n\nasync function generateMore() {\n  await aiStore.generateSuggestions(presentationStore.canvas.activeSlide)\n}\n\nfunction getSuggestionIcon(suggestion: AtomicOperationData): string {\n  const icons = {\n    ADD: {\n      text: '📝',\n      image: '🖼️',\n      shape: '🔷',\n      chart: '📊',\n      table: '📋'\n    },\n    MODIFY: '✏️',\n    CREATE: '➕',\n    DELETE: '🗑️',\n    REMOVE: '❌',\n    REORDER: '🔄',\n    APPLY: '🎨'\n  }\n  \n  if (suggestion.op === 'ADD' && typeof suggestion.type === 'string') {\n    return icons.ADD[suggestion.type as keyof typeof icons.ADD] || '➕'\n  }\n  \n  return icons[suggestion.op as keyof typeof icons] || '💡'\n}\n\nfunction getSuggestionTitle(suggestion: AtomicOperationData): string {\n  const opTitles = {\n    ADD: 'Add',\n    REMOVE: 'Remove',\n    MODIFY: 'Modify',\n    CREATE: 'Create',\n    DELETE: 'Delete',\n    REORDER: 'Reorder',\n    APPLY: 'Apply'\n  }\n  \n  const typeNames = {\n    text: 'Text',\n    image: 'Image',\n    shape: 'Shape',\n    chart: 'Chart',\n    table: 'Table',\n    slide: 'Slide',\n    theme: 'Theme'\n  }\n  \n  return `${opTitles[suggestion.op]} ${typeNames[suggestion.type as keyof typeof typeNames] || suggestion.type}`\n}\n\nfunction getSuggestionDescription(suggestion: AtomicOperationData): string {\n  switch (suggestion.op) {\n    case 'ADD':\n      switch (suggestion.type) {\n        case 'text':\n          return 'Add a title or content text to improve slide structure'\n        case 'image':\n          return 'Add a relevant image to enhance visual appeal'\n        case 'shape':\n          return 'Add a shape to create visual hierarchy'\n        case 'chart':\n          return 'Add a chart to visualize data effectively'\n        case 'table':\n          return 'Add a table to organize information clearly'\n        default:\n          return `Add a new ${suggestion.type} element`\n      }\n    case 'MODIFY':\n      return 'Improve styling and positioning for better visual impact'\n    case 'CREATE':\n      return 'Create a new slide with optimized layout'\n    case 'APPLY':\n      if (suggestion.type === 'theme') {\n        return 'Apply a cohesive theme for professional appearance'\n      }\n      return `Apply ${suggestion.type} improvements`\n    case 'REORDER':\n      return 'Reorganize elements for better flow and readability'\n    default:\n      return `AI suggests this ${suggestion.op.toLowerCase()} operation`\n  }\n}\n</script>\n\n<style scoped>\n.ai-suggestions-overlay {\n  position: fixed;\n  bottom: var(--spacing-lg);\n  right: var(--spacing-lg);\n  z-index: 1500;\n  max-width: 400px;\n  max-height: 60vh;\n}\n\n.suggestions-container {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: 0 8px 32px var(--shadow-dark);\n  overflow: hidden;\n  animation: slideInUp 0.3s ease-out;\n}\n\n@keyframes slideInUp {\n  from {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.suggestions-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-md);\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\n  color: white;\n}\n\n.suggestions-header h3 {\n  margin: 0;\n  font-size: var(--font-size-md);\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color var(--transition-fast);\n}\n\n.close-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.suggestions-content {\n  max-height: 300px;\n  overflow-y: auto;\n  padding: var(--spacing-sm);\n}\n\n.suggestion-card {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  margin-bottom: var(--spacing-sm);\n  background: var(--border-light);\n  border-radius: var(--border-radius-lg);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  border: 2px solid transparent;\n}\n\n.suggestion-card:hover {\n  background: var(--primary);\n  color: white;\n  border-color: var(--primary-dark);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 16px var(--shadow);\n}\n\n.suggestion-card:last-child {\n  margin-bottom: 0;\n}\n\n.suggestion-icon {\n  font-size: 24px;\n  flex-shrink: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--surface);\n  border-radius: 50%;\n}\n\n.suggestion-card:hover .suggestion-icon {\n  background: white;\n}\n\n.suggestion-details {\n  flex: 1;\n  min-width: 0;\n}\n\n.suggestion-title {\n  font-weight: 600;\n  font-size: var(--font-size-sm);\n  margin-bottom: var(--spacing-xs);\n}\n\n.suggestion-description {\n  font-size: var(--font-size-xs);\n  line-height: 1.4;\n  margin-bottom: var(--spacing-xs);\n  opacity: 0.8;\n}\n\n.suggestion-confidence {\n  font-size: 10px;\n  opacity: 0.7;\n  font-weight: 500;\n}\n\n.suggestion-actions {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n  flex-shrink: 0;\n}\n\n.action-btn {\n  padding: var(--spacing-xs);\n  border: none;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-size: var(--font-size-xs);\n  font-weight: 500;\n  transition: all var(--transition-fast);\n  min-width: 50px;\n}\n\n.apply-btn {\n  background: var(--primary);\n  color: white;\n}\n\n.apply-btn:hover {\n  background: var(--primary-dark);\n}\n\n.dismiss-btn {\n  background: var(--text-disabled);\n  color: white;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  min-width: auto;\n}\n\n.dismiss-btn:hover {\n  background: var(--accent);\n}\n\n.suggestion-card:hover .apply-btn {\n  background: white;\n  color: var(--primary);\n}\n\n.suggestion-card:hover .dismiss-btn {\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n}\n\n.suggestions-footer {\n  display: flex;\n  justify-content: space-between;\n  padding: var(--spacing-md);\n  border-top: 1px solid var(--border);\n  background: var(--border-light);\n}\n\n/* Scrollbar styling */\n.suggestions-content::-webkit-scrollbar {\n  width: 4px;\n}\n\n.suggestions-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.suggestions-content::-webkit-scrollbar-thumb {\n  background: var(--border);\n  border-radius: 2px;\n}\n\n.suggestions-content::-webkit-scrollbar-thumb:hover {\n  background: var(--text-disabled);\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .ai-suggestions-overlay {\n    bottom: var(--spacing-md);\n    right: var(--spacing-md);\n    left: var(--spacing-md);\n    max-width: none;\n  }\n  \n  .suggestion-card {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .suggestion-actions {\n    flex-direction: row;\n    justify-content: center;\n  }\n}\n</style>","<template>\n  <div class=\"editor\">\n    <!-- Header Toolbar -->\n    <header class=\"editor-header\">\n      <div class=\"header-left\">\n        <div class=\"logo\">\n          <span class=\"logo-icon\">🎯</span>\n          <span class=\"logo-text\">AI-PPT</span>\n        </div>\n        <div class=\"presentation-title\">\n          <input \n            v-model=\"presentationStore.presentation.title\"\n            class=\"title-input\"\n            placeholder=\"Presentation Title\"\n          />\n        </div>\n      </div>\n      \n      <div class=\"header-center\">\n        <ToolbarMain />\n      </div>\n      \n      <div class=\"header-right\">\n        <AIPanel />\n        <button class=\"btn btn-primary\" @click=\"startPresentation\">\n          <span>▶</span>\n          Present\n        </button>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <div class=\"editor-content\">\n      <!-- Left Sidebar -->\n      <aside class=\"sidebar-left\">\n        <SlideThumbnails />\n      </aside>\n\n      <!-- Canvas Area -->\n      <main class=\"canvas-area\">\n        <div class=\"canvas-container\">\n          <CanvasEditor />\n        </div>\n        \n        <!-- Zoom Controls -->\n        <div class=\"zoom-controls\">\n          <button class=\"btn btn-sm\" @click=\"zoomOut\">-</button>\n          <span class=\"zoom-level\">{{ Math.round(presentationStore.canvas.zoom * 100) }}%</span>\n          <button class=\"btn btn-sm\" @click=\"zoomIn\">+</button>\n          <button class=\"btn btn-sm\" @click=\"resetZoom\">Fit</button>\n        </div>\n      </main>\n\n      <!-- Right Sidebar -->\n      <aside class=\"sidebar-right\">\n        <PropertyPanel />\n      </aside>\n    </div>\n\n    <!-- Status Bar -->\n    <footer class=\"status-bar\">\n      <div class=\"status-left\">\n        <span class=\"status-item\">\n          Slide {{ presentationStore.canvas.activeSlide + 1 }} of {{ presentationStore.totalSlides }}\n        </span>\n        <span class=\"status-item\" v-if=\"aiStore.isAIReady\">\n          🤖 AI Ready\n        </span>\n        <span class=\"status-item\" v-if=\"aiStore.suggestionCount > 0\">\n          💡 {{ aiStore.suggestionCount }} suggestions\n        </span>\n      </div>\n      \n      <div class=\"status-right\">\n        <span class=\"status-item\">\n          {{ presentationStore.getPerformanceMetrics().totalOperations || 0 }} operations\n        </span>\n        <span class=\"status-item\">\n          {{ presentationStore.presentation.settings.width }}×{{ presentationStore.presentation.settings.height }}\n        </span>\n      </div>\n    </footer>\n\n    <!-- AI Suggestions Overlay -->\n    <AISuggestions v-if=\"aiStore.suggestionCount > 0\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted } from 'vue'\nimport { usePresentationStore, useAIStore } from '@/stores'\nimport ToolbarMain from '@/components/Toolbar/ToolbarMain.vue'\nimport AIPanel from '@/components/AI/AIPanel.vue'\nimport SlideThumbnails from '@/components/Sidebar/SlideThumbnails.vue'\nimport CanvasEditor from '@/components/Canvas/CanvasEditor.vue'\nimport PropertyPanel from '@/components/Sidebar/PropertyPanel.vue'\nimport AISuggestions from '@/components/AI/AISuggestions.vue'\n\nconst presentationStore = usePresentationStore()\nconst aiStore = useAIStore()\n\nonMounted(() => {\n  // Initialize keyboard shortcuts\n  document.addEventListener('keydown', handleKeydown)\n  \n  // Load presentation if ID provided\n  const presentationId = (window as any).location.pathname.split('/')[2]\n  if (presentationId) {\n    loadPresentation(presentationId)\n  }\n  \n  // Auto-save setup\n  setInterval(autoSave, 30000) // Auto-save every 30 seconds\n})\n\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleKeydown)\n})\n\nfunction handleKeydown(event: KeyboardEvent) {\n  const isCtrlOrCmd = event.ctrlKey || event.metaKey\n  \n  if (isCtrlOrCmd) {\n    switch (event.key) {\n      case 'z':\n        event.preventDefault()\n        if (event.shiftKey) {\n          presentationStore.redo()\n        } else {\n          presentationStore.undo()\n        }\n        break\n      case 'c':\n        event.preventDefault()\n        if (presentationStore.selectedElements.length > 0) {\n          presentationStore.copyElements(presentationStore.selectedElements)\n        }\n        break\n      case 'v':\n        event.preventDefault()\n        presentationStore.pasteElements()\n        break\n      case 's':\n        event.preventDefault()\n        autoSave()\n        break\n      case 'n':\n        event.preventDefault()\n        presentationStore.createSlide()\n        break\n    }\n  }\n  \n  // Navigation shortcuts\n  switch (event.key) {\n    case 'Delete':\n    case 'Backspace':\n      if (presentationStore.selectedElements.length > 0) {\n        event.preventDefault()\n        presentationStore.selectedElements.forEach(id => {\n          presentationStore.removeElement(id)\n        })\n        presentationStore.clearSelection()\n      }\n      break\n    case 'ArrowLeft':\n      if (event.ctrlKey || event.metaKey) {\n        event.preventDefault()\n        previousSlide()\n      }\n      break\n    case 'ArrowRight':\n      if (event.ctrlKey || event.metaKey) {\n        event.preventDefault()\n        nextSlide()\n      }\n      break\n    case 'Escape':\n      presentationStore.clearSelection()\n      break\n  }\n}\n\nfunction zoomIn() {\n  presentationStore.setZoom(presentationStore.canvas.zoom * 1.2)\n}\n\nfunction zoomOut() {\n  presentationStore.setZoom(presentationStore.canvas.zoom / 1.2)\n}\n\nfunction resetZoom() {\n  presentationStore.setZoom(1)\n  presentationStore.setCanvasOffset(0, 0)\n}\n\nfunction previousSlide() {\n  const newIndex = Math.max(0, presentationStore.canvas.activeSlide - 1)\n  presentationStore.setActiveSlide(newIndex)\n}\n\nfunction nextSlide() {\n  const newIndex = Math.min(\n    presentationStore.totalSlides - 1, \n    presentationStore.canvas.activeSlide + 1\n  )\n  presentationStore.setActiveSlide(newIndex)\n}\n\nfunction startPresentation() {\n  // This would open the presentation in fullscreen mode\n  console.log('Starting presentation...')\n}\n\nasync function loadPresentation(id: string) {\n  try {\n    const response = await fetch(`/api/presentations/${id}`)\n    if (response.ok) {\n      const presentationData = await response.json()\n      presentationStore.loadPresentation(presentationData)\n    }\n  } catch (error) {\n    console.error('Failed to load presentation:', error)\n  }\n}\n\nasync function autoSave() {\n  try {\n    const presentationData = presentationStore.exportPresentation()\n    const response = await fetch(`/api/presentations/${presentationData.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(presentationData)\n    })\n    \n    if (response.ok) {\n      console.log('✅ Auto-saved presentation')\n    }\n  } catch (error) {\n    console.warn('Auto-save failed:', error)\n  }\n}\n</script>\n\n<style scoped>\n.editor {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: var(--background);\n}\n\n.editor-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-sm) var(--spacing-md);\n  background-color: var(--surface);\n  border-bottom: 1px solid var(--border);\n  height: 60px;\n  flex-shrink: 0;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-lg);\n  flex: 1;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.logo-icon {\n  font-size: 24px;\n}\n\n.logo-text {\n  font-size: var(--font-size-lg);\n}\n\n.presentation-title {\n  flex: 1;\n  max-width: 300px;\n}\n\n.title-input {\n  width: 100%;\n  border: none;\n  background: transparent;\n  font-size: var(--font-size-lg);\n  font-weight: 500;\n  padding: var(--spacing-xs);\n  border-radius: var(--border-radius);\n}\n\n.title-input:hover,\n.title-input:focus {\n  background-color: var(--border-light);\n}\n\n.header-center {\n  flex: 2;\n  display: flex;\n  justify-content: center;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  flex: 1;\n  justify-content: flex-end;\n}\n\n.editor-content {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n\n.sidebar-left {\n  width: 240px;\n  background-color: var(--surface);\n  border-right: 1px solid var(--border);\n  flex-shrink: 0;\n}\n\n.canvas-area {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: var(--background);\n}\n\n.canvas-container {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n.zoom-controls {\n  position: absolute;\n  bottom: var(--spacing-md);\n  right: var(--spacing-md);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  background-color: var(--surface);\n  padding: var(--spacing-xs);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--shadow);\n  border: 1px solid var(--border);\n}\n\n.zoom-level {\n  font-size: var(--font-size-sm);\n  color: var(--text-secondary);\n  min-width: 40px;\n  text-align: center;\n}\n\n.sidebar-right {\n  width: 280px;\n  background-color: var(--surface);\n  border-left: 1px solid var(--border);\n  flex-shrink: 0;\n}\n\n.status-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-xs) var(--spacing-md);\n  background-color: var(--surface);\n  border-top: 1px solid var(--border);\n  height: 32px;\n  flex-shrink: 0;\n  font-size: var(--font-size-sm);\n  color: var(--text-secondary);\n}\n\n.status-left,\n.status-right {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n.status-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n/* Responsive design */\n@media (max-width: 1200px) {\n  .sidebar-right {\n    width: 240px;\n  }\n}\n\n@media (max-width: 768px) {\n  .sidebar-left,\n  .sidebar-right {\n    display: none;\n  }\n  \n  .header-left,\n  .header-right {\n    flex: 0;\n  }\n  \n  .header-center {\n    flex: 1;\n  }\n  \n  .presentation-title {\n    max-width: 200px;\n  }\n}\n</style>","import { createApp } from 'vue'\nimport { createRouter, createWebHistory } from 'vue-router'\nimport { pinia } from '@/stores'\nimport App from './App.vue'\nimport Editor from '@/views/Editor.vue'\n\n// Global styles\nimport '@/assets/styles/global.css'\n\n// Router configuration\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    {\n      path: '/',\n      name: 'Editor',\n      component: Editor\n    },\n    {\n      path: '/presentation/:id',\n      name: 'Presentation',\n      component: Editor,\n      props: true\n    }\n  ]\n})\n\n// Create and mount app\nconst app = createApp(App)\n\napp.use(pinia)\napp.use(router)\n\napp.mount('#app')\n\n// Global error handler\napp.config.errorHandler = (err, vm, info) => {\n  console.error('Global error:', err, info)\n}\n\n// Performance monitoring\nif (import.meta.env.DEV) {\n  console.log('🎯 AI-PPT System initialized in development mode')\n  console.log('📊 Performance monitoring enabled')\n}"],"names":["getRandomValues","rnds8","rng","byteToHex","i","unsafeStringify","arr","offset","randomUUID","native","v4","options","buf","rnds","AtomicEngine","presentation","__publicField","operation","startTime","result","executionTime","error","slideIndex","slide","element","elementId","id","elementType","_a","slideIndices","from","to","data","uuidv4","_b","index","el","initialLength","changes","elementData","insertIndex","slides","sortedIndices","a","b","newSlides","newElements","targetSlides","callback","usePresentationStore","defineStore","ref","createDefaultPresentation","canvas","createDefaultCanvasState","history","clipboard","isPlaying","isFullscreen","selectedElements","atomicEngine","currentSlide","computed","totalSlides","canUndo","canRedo","initializeEngine","saveToHistory","emitOperationToBackend","executeAtomicOperation","addText","addImage","addShape","addChart","addTable","removeElement","modifyElement","createSlide","deleteSlide","reorderSlides","newOrder","applyTheme","themeData","setActiveSlide","setZoom","zoom","setCanvasOffset","x","y","selectElements","elementIds","toggleElementSelection","clearSelection","undo","previousState","redo","nextState","copyElements","elements","pasteElements","operations","newElement","newPresentation","loadPresentation","exportPresentation","getPerformanceMetrics","defaultTheme","defaultSlide","useAIStore","isLearning","predictions","operationSequences","aiSuggestions","learningProgress","modelMetrics","topPrediction","isAIReady","suggestionCount","predictNextAtom","context","response","prediction","generateSuggestions","presentationStore","getRecentOperations","getOperationPatterns","getUserPreferences","suggestions","executeAISuggestion","suggestion","s","updateModelMetrics","learnFromOperation","generatePresentation","prompt","sequence","executeOperationSequence","resolve","analyzeUserPatterns","getOperationSequences","sequences","clearSuggestions","clearPredictions","suggestionTimer","startAutoSuggestions","stopAutoSuggestions","suggestTemplate","content","template","enhanceContent","enhancedContent","pinia","createPinia","aiStore","onMounted","handleGlobalKeydown","onUnmounted","event","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","showAddDropdown","showThemeDropdown","addDropdown","themeDropdown","themes","toggleAddDropdown","toggleThemeDropdown","closeDropdowns","openPresentation","savePresentation","input","e","file","reader","src","addSlide","duplicateSlide","theme","getThemePreview","handleClickOutside","_createElementVNode","_hoisted_2","_unref","_cache","$event","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","_normalizeStyle","_toDisplayString","showPanel","showGenerateModal","generatePrompt","presentationType","slideCount","togglePanel","enhanceCurrentSlide","fullPrompt","applySuggestion","dismissSuggestion","getSuggestionTitle","opTitles","typeNames","getSuggestionDescription","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","contextMenu","contextMenuStyle","selectSlide","showContextMenu","hideContextMenu","moveSlideUp","_","moveSlideDown","getMiniElementStyle","scaleX","scaleY","getTextPreview","text","words","getSlideTitle","titleElement","firstText","Chart","registerables","props","__props","emit","__emit","isDragging","isResizing","isRotating","isEditing","dragStart","resizeStart","rotationStart","chartContainer","chartInstance","elementStyle","textStyle","imageStyle","shapeStyle","shapeViewBox","shapePath","cx","cy","r","tableStyle","videoStyle","audioStyle","selectionHandles","handleClick","handleDoubleClick","nextTick","handleMouseDown","handleMouseMove","handleMouseUp","deltaX","deltaY","handleResize","handleRotation","handleResizeStart","handle","newWidth","newHeight","newLeft","newTop","handleRotationStart","centerX","centerY","startAngle","deltaAngle","newRotation","handleTextBlur","handleTextInput","target","handleImageLoad","handleImageError","getCellStyle","rowIndex","colIndex","isHeader","_c","_d","editCell","createChart","ctx","watch","selected","row","cell","boxStyle","menuStyle","handleItemClick","item","items","toolbarStyle","hasTextElements","isBold","isItalic","isUnderline","toggleBold","textElements","newBold","toggleItalic","newItalic","toggleUnderline","newUnderline","alignLeft","alignCenter","alignRight","bringToFront","maxZIndex","sendToBack","minZIndex","duplicateElements","deleteElements","canvasContainer","selectionBox","currentSlideElements","canvasStyle","slideStyle","settings","slideBackgroundStyle","bg","colors","c","_e","contextMenuItems","toolbarPosition","bounds","getElementsBounds","handleCanvasClick","closeContextMenu","handleContextMenu","rect","handleContextMenuSelect","action","canvasRect","addTextElement","addImageElement","addShapeElement","addChartElement","addTableElement","selectElement","multiSelect","isElementSelected","updateElement","deleteElement","minX","minY","maxX","maxY","handleKeydown","centerCanvas","containerRect","offsetX","offsetY","_createBlock","ElementRenderer","SelectionBox","ContextMenu","ElementToolbar","updateProperty","property","value","getElementTypeName","type","getTextContent","bringForward","currentZIndex","sendBackward","duplicateElement","_hoisted_32","_hoisted_34","_hoisted_36","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_42","_hoisted_44","_hoisted_45","_hoisted_47","_hoisted_49","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_60","_hoisted_61","_hoisted_62","spacing","allElementsAreText","commonOpacity","opacities","o","commonRotation","rotations","commonFontSize","fontSizes","commonColor","commonBold","bolds","commonItalic","italics","alignElements","alignment","distributeElements","direction","sortedElements","first","last","totalSpace","totalElementSize","sum","currentPos","prevElement","applySpacing","currentElement","updateCommonProperty","groupElements","groupId","ungroupElements","_vModelText","ElementProperties","MultiElementProperties","generateMore","getSuggestionIcon","icons","_withModifiers","presentationId","autoSave","previousSlide","nextSlide","zoomIn","zoomOut","resetZoom","newIndex","startPresentation","presentationData","ToolbarMain","AIPanel","SlideThumbnails","CanvasEditor","PropertyPanel","AISuggestions","router","createRouter","createWebHistory","Editor","app","createApp","App","err","vm","info"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}